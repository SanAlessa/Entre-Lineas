{"version":3,"sources":["components/CardCategory.js","redux/actions/bookActions.js","redux/actions/cardActions.js","components/Story.js","components/Search.js","redux/actions/authActions.js","components/Header.js","components/FirstSection.js","components/SecondSection.js","components/ThirdSection.js","components/FourthSection.js","components/Home.js","components/Footer.js","components/Register.js","components/SignIn.js","components/Stories.js","components/NewChapter.js","components/NewBook.js","components/Settings.js","components/StoryBook.js","components/Comment.js","components/StoryDescription.js","components/MyBooks.js","components/UserProfile.js","components/FinishBook.js","components/ModifyBook.js","components/ForgotPassword.js","components/SendEmail.js","components/Content.js","components/ModifyChapter.js","App.js","redux/reducers/bookReducers.js","redux/reducers/authReducer.js","redux/reducers/cardReducer.js","redux/reducers/rootReducer.js","index.js"],"names":["CardCategory","props","to","cardCategory","genre","className","style","backgroundImage","image","bookActions","addBook","formData","token","dispatch","getState","a","axios","post","headers","Authorization","response","type","payload","data","Swal","fire","icon","title","text","addImage","put","getBooks","fetch","json","showConfirmButton","timer","getByGenre","searchBooks","value","error","addChapter","id","console","log","sendContent","content","modifyChapterTitle","chapterId","modifyContent","updatedContent","contentId","bookId","deleteContent","deleteBook","addComment","res","respuesta","deleteComment","idcomment","modComment","vote","dismissVote","incViews","cardActions","getCardsCategories","get","responseCategories","mapDispatchToProps","connect","libro","user","firstname","lastname","views","stars","length","chapters","description","substr","_id","onClick","search","state","loggedUser","auth","books","bookR","filter","genres","cardR","useState","setValue","useEffect","placeholder","onChange","e","target","map","index","book","authActions","makeNewUser","usuario","success","logInUser","modifyUser","logFromLS","status","localStorage","clear","resetPassword","email","newPassword","password","logOutUser","logout","cardsCategories","visible","setVisible","i","toUpperCase","color","FirstSection","SecondSection","ThirdSection","FourthSection","Home","Footer","href","birthday","setUsuario","readInput","valor","campo","name","checkIfInputsAreEmpty","alertError","alertSuccess","validateUser","preventDefault","errores","message","responseGoogle","profileObj","givenName","familyName","googleId","imageUrl","min","max","display","alignItems","clientId","buttonText","onSuccess","onFailure","cookiePolicy","height","width","userLogueado","setUserLogueado","mensaje","booksByGenre","namePage","match","params","boolean","setBoolean","loaded","setLoaded","sort","b","htmlFor","Spinner","setTitle","setContent","chapter","setChapter","continuar","setContinuar","sendTitle","keyPress","key","send","flexDirection","marginTop","disabled","resize","cols","rows","onKeyPress","justifyContent","marginBottom","fontSize","newBook","setBook","prop","files","history","push","FormData","append","trim","defaultValue","change","setChange","setEmail","setFirstname","setLastname","setBirthday","setImage","fileUrl","setFileUrl","cursor","for","class","imagen","document","getElementById","foto","URL","createObjectURL","processImage","emailValue","firstnameValue","lastnameValue","birthdayValue","imageValue","some","file","includes","boxShadow","filtro","indexPage","parseInt","window","scrollTo","parrafo","deleteComments","input","setInput","setLoggedUser","deleteC","comment","modiComment","userPic","src","alt","firstName","Input","Button","userId","comments","reload","setReload","voted","setVoted","enviar","votes","pop","alert","logOut","myBooks","booksLiked","textAlign","url","backgroundColor","marginLeft","changePassword","setErrores","details","setUpdatedContent","newChapter","routes","exact","path","component","Search","NewBook","Stories","StoryDescription","Settings","StoryBook","NewChapter","UserProfile","FinishBook","ModifyChapter","ModifyBook","ForgotPassword","MyBooks","getItem","then","Register","SignIn","SendEmail","initialState","bookReducers","action","authReducers","setItem","cardReducer","rootReducer","combineReducers","store","createStore","applyMiddleware","thunk","ReactDOM","render"],"mappings":"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","file":"static/js/main.6e620cbd.chunk.js","sourcesContent":["import { Link } from 'react-router-dom'\r\n\r\nconst CardCategory = (props) => {\r\n  return (\r\n    <>\r\n      <Link to={`/stories/${props.cardCategory.genre}`}>\r\n        <div className='cardCategory'>\r\n          <div className='nameCategory'>\r\n            {props.cardCategory.genre}\r\n          </div>\r\n          <div className='containerLogoCategory'>\r\n            <div className='logoCategory' style={{ backgroundImage: `url(${props.cardCategory.image})`}}>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n    </>\r\n  )\r\n}\r\nexport default (CardCategory);\r\n","import axios from 'axios'\r\nimport Swal from'sweetalert2';\r\n\r\nconst bookActions = {\r\n\r\n  addBook: (formData, token) => {\r\n    return async (dispatch, getState) => {\r\n      try {\r\n        const response = await axios.post('http://localhost:4000/api/book', formData, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`\r\n          }\r\n        });\r\n\r\n        dispatch({type: 'ADD_BOOK', payload:response.data.response});\r\n\r\n      } catch(error) {\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Error!',\r\n          text: \"No se pudo crear el libro.\",\r\n          text: \"Por favor intente mas tarde.\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n        })\r\n      }\r\n    }\r\n  },\r\n\r\n  addImage: (formData, token) => {\r\n    return async (dispatch, getState) => {\r\n      try {\r\n        const response = await axios.put('http://localhost:4000/api/book', formData, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`\r\n          }\r\n        })\r\n        dispatch({type: 'ADD_BOOK', payload:response.data.response})\r\n      }catch(error){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Error!',\r\n          text: \"No se pudo cargar la imagen.\",\r\n          text: \"Por favor intente mas tarde.\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n          })}\r\n    }\r\n  },\r\n\r\n  getBooks: () => {\r\n    return async (dispatch, getState) => {\r\n      try {\r\n\t\t\t\tconst response = await fetch('http://localhost:4000/api/book')\r\n\t\t\t\tconst data = await response.json()\r\n\t\t\t\tdispatch({type: 'GET_BOOKS', payload: data.response})\r\n\t\t\t}catch(error){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Error!',\r\n          text: \"Algo salio mal. intente mas tarde.\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n          })}\r\n      }\r\n  },\r\n  // getNewBook: (id)=>{\r\n  //   return async(dispatch) =>{\r\n  //     try {\r\n  //       const response = await fetch('http://localhost:4000/api/')\r\n  //     }\r\n  //   }\r\n  // },\r\n  getByGenre: (genre)=>{\r\n    return async(dispatch, getState) =>{\r\n      try {\r\n        const response = await fetch('http://localhost:4000/api/book/'+genre)\r\n        const data = await response.json()\r\n        dispatch({type: 'GET_BY_GENRE', payload: data.response})\r\n      }catch(error){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Error!',\r\n          text: \"No se pudo cargar la imagen.\",\r\n          text: \"Por favor intente mas tarde.\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n          })}\r\n    }\r\n  },\r\n\r\n  searchBooks: (value) => {\r\n    return (dispatch, getState) => {\r\n      try {\r\n        dispatch({type: 'SEARCH_BOOKS', payload: value})\r\n      }catch(error){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Error!',\r\n          text: \"Algo salio mal. intente mas tarde.\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n          })}\r\n    }\r\n  },\r\n\r\n  addChapter: (title, id, token) => {\r\n    return async (dispatch) => {\r\n      try {\r\n        const response = await axios.post('http://localhost:4000/api/book/addChapter', {title, id}, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`\r\n          }\r\n        })\r\n        dispatch({type: 'ADD_CHAPTER', payload: response.data.response})\r\n      }catch(error){\r\n        console.log(error)\r\n      }\r\n    }\r\n  },\r\n\r\n  sendContent: (content, title, id, token) => {\r\n    return async (dispatch) => {\r\n      try {\r\n        const response = await axios.put('http://localhost:4000/api/book/addChapter', {content, title, id}, {\r\n          headers: {\r\n            Authorization : `Bearer ${token}`\r\n          }\r\n        })\r\n        dispatch({type: 'CHAPTER_CONTENT', payload: response.data.response})\r\n      }catch(error){\r\n        console.log(error)\r\n      }\r\n    }\r\n  },\r\n\r\n  modifyChapterTitle:(title, id, chapterId, token) =>{\r\n    return async(dispatch) => {\r\n      try {\r\n        const response = await axios.post('http://localhost:4000/api/book/modifyChapterTitle', {title, id, chapterId}, {\r\n          headers: {\r\n            Authorization : `Bearer ${token}`\r\n          }\r\n        })\r\n      }catch(errpr){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Error!',\r\n          text: \"No se pudo guardar el capitulo.\",\r\n          text: \"Por favor intente mas tarde.\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n        })\r\n      }\r\n    }\r\n  },\r\n  modifyContent: (updatedContent, contentId, chapterId, bookId, token) => {\r\n    return async (dispatch, getState) => {\r\n      try {\r\n        const response = await axios.post('http://localhost:4000/api/book/modifyChapter', {updatedContent, contentId, chapterId, bookId}, {\r\n          headers: {\r\n            Authorization : `Bearer ${token}`\r\n          }\r\n        })\r\n        dispatch({type: 'UPDATE_BOOK', payload: response.data.response})\r\n      }catch(error){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Error!',\r\n          text: \"No se pudo guardar el capitulo.\",\r\n          text: \"Por favor intente mas tarde.\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n          })}\r\n    }\r\n  },\r\n\r\n  deleteContent:(contentId, chapterId, bookId, token) => {\r\n    return async (dispatch, getState) => {\r\n      try {\r\n        const response = await axios.put('http://localhost:4000/api/book/modifyChapter', {contentId, chapterId, bookId}, {\r\n          headers: {\r\n            Authorization : `Bearer ${token}`\r\n          }\r\n        })\r\n        dispatch({type: 'UPDATE_BOOK', payload: response.data.response})\r\n      }catch(error){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Error!',\r\n          text: \"No se pudo guardar el capitulo.\",\r\n          text: \"Por favor intente mas tarde.\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n          })}\r\n    }\r\n  },\r\n  deleteBook:(id)=>{\r\n    console.log(id)\r\n    return async (dispatch)=>{\r\n      try {\r\n        const response = await axios.put('http://localhost:4000/api/book/delete', {id})\r\n      }catch(error){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Error!',\r\n          text: \"Algo salio mal. intente mas tarde.\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n        })}\r\n    }\r\n  },\r\n\r\n  addComment:(content, id, token) => {\r\n    return async (dispatch, getState) => {\r\n      try {\r\n        const res = await axios.post('http://localhost:4000/api/comments/', {content, id}, {\r\n          headers: {\r\n              Authorization: `Bearer ${token}` \r\n          }\r\n      })\r\n        dispatch({type: 'ADD_COMMENTS', payload: res.data.respuesta})\r\n      } catch(error){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Lo siento!',\r\n          text: \"No se pudo enviar el comentario\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n          })}\r\n    }\r\n  },\r\n\r\n  deleteComment: (id, idcomment, token) => {\r\n    return async(dispatch, getState) => {\r\n      try {\r\n        const res = await axios.put('http://localhost:4000/api/comments/delete', {id, idcomment}, {\r\n          headers: {\r\n              Authorization: `Bearer ${token}` \r\n          }\r\n      })\r\n        dispatch({type: 'DELETE_COMMENT', payload: res.data.respuesta})\r\n      } catch(error){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Lo siento!',\r\n          text: \"Algo salio mal.\",\r\n          text: \"No se pudo borrar el comentario, intente mas tarde.\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n          })}\r\n    }\r\n  },\r\n\r\n  modComment: (value, idcomment, id, token) => {\r\n    return async (dispatch, getState) => {\r\n      try{\r\n        const res = await axios.put('http://localhost:4000/api/comments/', {value, idcomment, id}, {\r\n          headers: {\r\n              Authorization: `Bearer ${token}` \r\n          }\r\n      })\r\n        dispatch({type: 'ADD_COMMENTS', payload: res.data.respuesta})\r\n      } catch(error){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Lo siento!',\r\n          text: \"Algo salio mal.\",\r\n          text: \"No se pudo editar el comentario, intente mas tarde.\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n          })}\r\n    }\r\n  },\r\n\r\n  vote:(id, token) => {\r\n    return async(dispatch, getState) => {\r\n      try {\r\n        const res = await axios.post('http://localhost:4000/api/vote', {id}, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}` \r\n          }\r\n        })\r\n        dispatch({type: 'VOTE', payload: res.data})\r\n      } catch(error){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Lo siento!',\r\n          text: \"No se puede votar en este momento, intente mas tarde.\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n          })}\r\n    }\r\n  },\r\n\r\n  dismissVote:(id, token) => {\r\n    return async(dispatch, getState) => {\r\n      try {\r\n        const res = await axios.post('http://localhost:4000/api/dismissvote', {id}, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}` \r\n          }\r\n        })\r\n        dispatch({type: 'DIS_VOTE', payload: res.data})\r\n      } catch(error){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Error!',\r\n          title: '¡Lo siento!',\r\n          text: \"No se puede sacar el voto en este momento, intente mas tarde.\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n          })}\r\n    }\r\n  },\r\n\r\n  incViews: (id) => {\r\n    return async (dispatch, getState) => {\r\n      try {\r\n        const response = await axios.post('http://localhost:4000/api/views', {id})\r\n        dispatch({type: 'VIEWS', payload: response.data})\r\n      }catch(error){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Error!',\r\n          title: '¡Lo siento!',\r\n          text: \"Algo salio mal, intente mas tarde.\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n          })}\r\n    }\r\n  }\r\n}\r\n\r\nexport default bookActions","import axios from 'axios'\r\nimport Swal from'sweetalert2';\r\nconst cardActions = {\r\n    getCardsCategories: () => {\r\n        return async (dispatch, getState) => {\r\n            try{\r\n                const responseCategories = await axios.get('http://localhost:4000/api/genre')\r\n                dispatch(\r\n                    {\r\n                        type: 'GET_CARDS_GENRES',\r\n                        payload: responseCategories.data.response\r\n                    }\r\n                )\r\n            }catch(err){\r\n                Swal.fire({\r\n                    icon: 'error',\r\n                    title: '¡Error!',\r\n                    text: \"Algo salio mal. intente mas tarde.\",\r\n                    showConfirmButton: false,\r\n                    timer: 4000\r\n                })\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default cardActions","import { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport bookActions from '../redux/actions/bookActions'\r\nconst Story=(props)=>{\r\n    const views =()=>{\r\n        props.incViews(props.libro._id)\r\n    }\r\n    return(\r\n        \r\n        <div className='storyContainer'>\r\n                <div className='storyPic' style={{backgroundImage:`url(${props.libro.image})`}}></div>\r\n                <div className='storyBodyContainer'>\r\n                    <p className='storyTitle'>{props.libro.title}</p>\r\n                    <p className='storyUser'>de {props.libro.user.firstname + ' ' + props.libro.user.lastname}</p>\r\n                    <p className='storyGenre'>Genero: {props.libro.genre}</p>\r\n                    <div className='storyIcons'>\r\n                        <p className='storyViews'><i className=\"far fa-eye\"></i> {!props.libro.views ? props.libro.views = 0 : props.libro.views}</p>\r\n                        <p className='storyStars'><i className=\"far fa-star\"></i> {props.libro.stars.length}</p>\r\n                        <p className='storyChapters'><i className=\"fas fa-list-ul\"></i> {props.libro.chapters.length}</p>\r\n                    </div>\r\n                    <p className='storyDescription'>{props.libro.description.substr(0,120)+\"...\"}</p>\r\n                    <div className='storyButtons'>\r\n                        <Link to={`/story/${props.libro._id}`}><button onClick={views} className='btn btn-danger verMasStory'>Ver Mas</button></Link>\r\n                    </div>\r\n                </div>\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nconst mapDispatchToProps= {\r\n    incViews: bookActions.incViews\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Story)","import CardCategory from \"./CardCategory\"\r\nimport {connect} from \"react-redux\"\r\nimport {useEffect, useState} from \"react\"\r\nimport bookActions from \"../redux/actions/bookActions\"\r\nimport cardActions from '../redux/actions/cardActions'\r\nimport Story from './Story'\r\n\r\nconst Search = (props) => {\r\n    const [value, setValue] = useState(false)\r\n        \r\n    useEffect( () => {\r\n        props.getBooks()\r\n    },[])\r\n\r\n    const searching = (e) => {\r\n        props.search(e.target.value)\r\n        setValue(true)\r\n        e.target.value === \"\" && setValue(false)\r\n    }\r\n\r\n    return(\r\n        <div className='containerComponentSearchStories'>\r\n            <div className='containerSearchBar'>\r\n                <input type='text' className='inputSearchStories' placeholder='¿Qué vas a leer hoy?' onChange={searching}></input>\r\n                <div className='iconSearchStories'><i className=\"fas fa-search\"></i></div>\r\n            </div>\r\n            {value === false ? \r\n            <>\r\n            <div className='containerTitleSearch'>\r\n                <h1>Explorá las categorías<span>&#160;</span></h1>\r\n            </div>\r\n            <div className='containerViewCardsCategories'>\r\n                {props.genres.map((cardCategory, index) => {\r\n                    return <CardCategory cardCategory={cardCategory} key={index}/>\r\n                })}\r\n            </div>\r\n            </> \r\n            : \r\n            <>\r\n            <h2>Su busqueda</h2>\r\n            <div className=\"resultBusqueda\">\r\n            {props.filter.map((book, index) =>\r\n            \r\n                <Story libro={book} key={index}/>\r\n            )}\r\n            </div>\r\n            </>}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loggedUser: state.auth.loggedUser,\r\n        books: state.bookR.books,\r\n        filter: state.bookR.filter,\r\n        genres: state.cardR.genres,\r\n    }\r\n}   \r\n\r\nconst mapDispatchToProps = {\r\n    getBooks: bookActions.getBooks,\r\n    search: bookActions.searchBooks\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Search);","import axios from 'axios'\r\nimport Swal from'sweetalert2';\r\n\r\n\r\nconst authActions = {\r\n    makeNewUser: (usuario) => {\r\n        return async (dispatch) => {\r\n            try {\r\n                const respuesta = await axios.post('http://localhost:4000/api/user/signup', usuario)///esto viaja al backend, va a router, busca la ruta\r\n                if(!respuesta.data.success){\r\n                    return respuesta.data\r\n                } \r\n                dispatch({type: 'LOG_USER', payload: respuesta.data})//lo que me contesto el backend se lo mando al reducer\r\n            }catch(errores){\r\n                console.log(errores)\r\n            }\r\n        }\r\n    },\r\n\r\n    logInUser: user => {\r\n        return async (dispatch) => {\r\n            const respuesta = await axios.post('http://localhost:4000/api/user/signin',user)\r\n            if(!respuesta.data.success) return respuesta.data;\r\n            dispatch({type: 'LOG_USER', payload: respuesta.data})\r\n        }\r\n    },\r\n\r\n    modifyUser: (formData) => {\r\n        console.log(formData)\r\n        return async (dispatch, getState) => {\r\n            const response = await axios.post(`http://localhost:4000/api/settings`, formData, {\r\n                headers: { \r\n                    'Content-Type': 'multipart/form-data' \r\n                }\r\n            })\r\n            dispatch({type: 'MODIFY_USER', payload: response.data})\r\n        }\r\n    },\r\n    logFromLS: (token) => {\r\n        return async (dispatch, getState) => {\r\n            try{\r\n                const response = await axios.post('http://localhost:4000/api/user/ls/', {token}, {\r\n                \r\n                    headers: {\r\n                        Authorization: `Bearer ${token}`\r\n                       \r\n                    }\r\n                })\r\n                dispatch({type: 'LOG_USER', payload: response.data})\r\n                \r\n            }catch(error){\r\n                if(error.response.status === 401) {\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: '¡CUIDADO!',\r\n                        text: \"No tienes permitido ingresar a la web\",\r\n                        showConfirmButton: false,\r\n                        timer: 4000\r\n                        })\r\n                    localStorage.clear()\r\n                    return true\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    resetPassword: (email)=> {\r\n        return async (dispatch) => {\r\n            try{\r\n                const response = await axios.post('http://localhost:4000/api/user/reset-password', {email})\r\n                dispatch({type: 'RESET_PASSWORD'})\r\n            }catch(error){\r\n                console.log(error)\r\n            }\r\n        }\r\n    },\r\n\r\n    newPassword: (email, password) => {\r\n        return async(dispatch) => {\r\n            try{\r\n                const response = await axios.put('http://localhost:4000/api/user/reset-password', {email, password})\r\n                dispatch({type: 'CHANGE_PASSWORD'})\r\n            }catch(error){\r\n                console.log(error)\r\n            }\r\n        }\r\n    },\r\n\r\n    logOutUser: () => { //se usa en el header\r\n        return async (dispatch) => {\r\n            dispatch({type:'LOG_OUT_USER'})\r\n        }\r\n    },\r\n\r\n}\r\nexport default authActions","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport authActions from '../redux/actions/authActions'\r\nimport bookActions from '../redux/actions/bookActions'\r\nimport cardActions from '../redux/actions/cardActions'\r\nimport {useState, useEffect } from 'react'\r\n\r\nconst Header = (props) => {\r\n  const [visible, setVisible] = useState(false)\r\n\r\n  useEffect(() => {\r\n    props.getBooks()\r\n    props.getCardsCategories()\r\n  }, [])\r\n\r\n  return (\r\n    <header>\r\n      <div className=\"headerLeft\">\r\n      <Link to=\"/\"><div className=\"prueba\"></div></Link>{/* <Link to=\"/\"><img src={'../assets/Logo-EntreLineas-Pluma-inclinada.png'} style={{marginLeft: '-8vw'}} className=\"logo\" alt='logo Entre Líneas'></img></Link> */}\r\n        <div className=\"dropdown\">\r\n          <p>Navegar</p>\r\n          <div className=\"dropdown-content\">\r\n            <div className=\"genres\">\r\n              {props.genres.map((genre, i) => <Link to={`/stories/${genre.genre}`} key={\"linkGenre\"+i}><p className=\"genre\">{genre.genre}</p></Link>)}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Link to=\"/search\"><div className=\"toSearch\">\r\n        <i className=\"fas fa-search\"></i>\r\n        <p>Buscar</p>\r\n      </div></Link>\r\n      {props.loggedUser && !props.loggedUser.image ?\r\n        <div className=\"headerRight\">\r\n          <p>Hola! {(props.loggedUser.firstname).toUpperCase()}</p>\r\n          <div className='containerDrop' onClick={() => setVisible(!visible)}>\r\n            {visible &&\r\n              <div className='dropDownMenu'>\r\n                <ul>\r\n                  <Link to='/userprofile'><li>Mi Perfil</li></Link>\r\n                  <Link to='/add-book'><li>Crear un Nuevo Libro</li></Link>\r\n                  <Link to='/settings'><li>Configuración</li></Link>\r\n                  <Link to='/' onClick={props.logout}><li>Cerrar mi Sesión</li></Link>\r\n                </ul>\r\n              </div>\r\n            }\r\n            <div className=\"dropDownPic\">{props.loggedUser.firstname.toUpperCase().substr(0, 1)}\r\n            </div>\r\n            <i style={{color: 'black'}} className=\"fas fa-caret-down\" ></i>\r\n          </div>\r\n        </div>\r\n        : props.loggedUser && props.loggedUser.image\r\n        ?<>\r\n        <div className=\"headerRight\" >\r\n          <p>Hola! {(props.loggedUser.firstname).toUpperCase()}</p>\r\n          <div className='containerDrop' onClick={() => setVisible(!visible)}>\r\n            {visible &&\r\n              <div className='dropDownMenu'>\r\n                <ul>\r\n                  <Link to='/userprofile'><li>Mi Perfil</li></Link>\r\n                  <Link to='/add-book'><li>Crear un Nuevo Libro</li></Link>\r\n                  <Link to='/settings'><li>Configuración</li></Link>\r\n                  <Link to='/' onClick={props.logout}><li>Cerrar mi Sesión</li></Link>\r\n                </ul>\r\n              </div>\r\n            }\r\n            <div className=\"dropDownPic\" style={{backgroundImage: `url('${props.loggedUser.image}')`}}></div>\r\n            <i style={{color: 'black'}} className=\"fas fa-caret-down\" ></i>\r\n          </div>\r\n        </div>\r\n        </>\r\n        :\r\n        <div className=\"headerRight\">\r\n        <Link to=\"/signin\"><p>Iniciar sesión</p></Link>\r\n        <Link to=\"/register\"><p>Regístrate</p></Link>\r\n        </div>\r\n      }\r\n    </header>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    loggedUser: state.auth.loggedUser,\r\n    genres: state.cardR.genres,\r\n    cardsCategories: state.cardR.cardsCategories,\r\n    books: state.bookR.books\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  logout: authActions.logOutUser,\r\n  getBooks: bookActions.getBooks,\r\n  getCardsCategories: cardActions.getCardsCategories\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header)\r\n\r\n\r\n/**/","const FirstSection = ()=>{\r\n    return (\r\n        <div className=\"firstSection\">\r\n            <div className=\"leftBoxFirst\">\r\n                <h1 className=\"titleFirst\">Hola, somos Entre Líneas.</h1>\r\n                <p className=\"firstP\">La plataforma del mundo social basada en narrativa más amada en el mundo</p>\r\n                <p className=\"secondP\">Entre Lineas conecta una comunidad global de 90 millones de lectores y escritores a través del poder de las historias.</p>\r\n                <div className=\"buttonBox\">\r\n                    <button className=\"btn btn-danger\">Comienza a leer</button>\r\n                    <button className=\"btn btn-danger boton2\" >Comienza a escribir</button>\r\n                </div>\r\n            </div>\r\n            <div className=\"rightBoxFirst\"></div>\r\n        </div>\r\n    )\r\n}\r\nexport default FirstSection","const SecondSection = ()=>{\r\n    return (\r\n        <>\r\n        <div className=\"secondSection\">\r\n            <div className=\"upBoxSecond\">\r\n                <div className=\"firstUp\">\r\n                    <p>Ver tu historia...</p>\r\n                </div>\r\n                <div className=\"secondUp\">\r\n                    <div className='verContainer'>\r\n                        <i className=\"fas fa-tv\"></i>\r\n                        <p>Consigue que tu historia se produzca como una película</p>\r\n                    </div>\r\n                    <div className='verContainer'>\r\n                        <i className=\"fas fa-film\"></i>\r\n                        <p className=\"block\">Consigue que tu historia se adapte como Serie de Televisión</p>\r\n                    </div>\r\n                    <div className='verContainer'>\r\n                        <i className=\"fas fa-book\"></i>\r\n                        <p>Conviértete en un autor publicado</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className='downBoxSecond'>\r\n                <div className=\"imgBoxSecond\"></div>\r\n                <div className='textRightSecondBox'>\r\n                    <p className='firstTextRightSecond'>Tu historia original puede ser un nuevo y grandioso éxito</p>\r\n                    <p className='secondTextRightSecond'>Entre Lineas Studios descubre nuevos talentos entre los escritores y los conecta a compañías globales de multimedia, tales como:</p>\r\n                    <div className='svgContainer'>\r\n                        <div className='sony'></div>\r\n                        <div className='hulu'></div>\r\n                        <div className='syfy'></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\nexport default SecondSection","const  ThirdSection = ()=>{\r\n    return (\r\n        <>\r\n            <div className='thirdSection'>\r\n                <div className=\"upContainerThird\">\r\n                    <div className=\"firstContainerUpThird\">\r\n                        <p className='titleThirdSec'>¿Cómo funciona Entre Lineas?</p>\r\n                        <p className='subTitleThirdSec'>Permite que tu historia se ha descubierto a través del poder de comunidad y tecnología en Entre Lineas.</p>\r\n                    </div>\r\n                    <div className='secondContainerUpThird'>\r\n                        <div className='infoSecondContainerThird'>\r\n                            <div className='numberSecondContThird'>\r\n                                <p>1</p>\r\n                            </div>\r\n                            <div className='textSecondContThird'>\r\n                                <p className='titleTextSecContTh'>Crea</p>\r\n                                <p className='bodyTxtSecContTh'>Comparte tu voz única e historia original en Entre Lineas. Encuentra los recursos de escritura que necesitas para elaborar una historia.</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className='infoSecondContainerThird'>\r\n                            <div className='numberSecondContThird'>\r\n                                <p>2</p>\r\n                            </div>\r\n                            <div className='textSecondContThird'>\r\n                                <p className='titleTextSecContTh'>Construye</p>\r\n                                <p className='bodyTxtSecContTh'>Establece una base global de fans mientras tu historia gana lectores y notoriedad. Conecta con otros escritores afines a través del arte de la narrativa.</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className='infoSecondContainerThird'>\r\n                            <div className='numberSecondContThird'>\r\n                                <p>3</p>\r\n                            </div>\r\n                            <div className='textSecondContThird'>\r\n                                <p className='titleTextSecContTh'>Amplía</p>\r\n                                <p className='bodyTxtSecContTh'>¡Obtén el estatus de estrella de Entre Lineass y tu historia publicada o adaptada en cine o televisión con Entre Lineas Studios</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className='imgThirdSec'>\r\n                    <div className='resources'>\r\n                        <p>50+\r\n                        Recursos para la escritura</p>\r\n                    </div>\r\n                    <div className='readers'>\r\n                        <p>90 millones de Lectores</p>\r\n                    </div>\r\n                    <div className='offers'>\r\n                        <p>1000 +\r\n                        Ofrecimientos para la historia</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n           \r\n        </>\r\n    )\r\n}\r\nexport default ThirdSection","const FourthSection = ()=>{\r\n    return (\r\n        <div className='fourthSection'>\r\n            <div className='upContainerFourth'>\r\n                <div className='fourthSecText'>\r\n                    <p className='fourthTitle'>Lleva Entre Líneas Contigo</p>\r\n                    <p className='fourthBody'>Lee y escribe en cualquier parte, incluso sin conexión.</p>\r\n                </div>\r\n                <div className='fourthSecButtons'>\r\n                    <button className='btn btn-danger'>Comienza a Leer</button>\r\n                    <button className='btn btn-danger'>Comienza a Escribir</button>\r\n                </div>\r\n            </div>\r\n            <div className='fourthSecBack'>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default FourthSection","import FirstSection from './FirstSection'\r\nimport SecondSection from './SecondSection'\r\nimport ThirdSection from './ThirdSection'\r\nimport FourthSection from './FourthSection'\r\n\r\nconst Home = () => {\r\n  return (\r\n    <>\r\n      <div className=\"backgroundZindex\"></div>\r\n      <div className=\"sectionBox\">\r\n        <FirstSection />\r\n        <SecondSection />\r\n        <ThirdSection />\r\n        <FourthSection />\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Home;","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer>\r\n      <div className=\"footerLeft\">\r\n      <Link to=\"/\"><div className=\"prueba\"></div></Link>{/* <Link to=\"/\"><img src={'../assets/Logo-EntreLineas-Pluma-inclinada.png'} className=\"logo\" alt='logo Entre Líneas'></img></Link> */}\r\n      </div>\r\n      <div className=\"footerRight\">\r\n        <p>© 2020 Entre Líneas.</p>\r\n        <div className=\"socialNetworks\">\r\n          <a href=\"https://www.facebook.com/\">\r\n            <i className=\"fab fa-facebook-f\" style={{ color: \"#3b5998\" }}></i>\r\n          </a>\r\n          <a href=\"https://twitter.com/\">\r\n            <i className=\"fab fa-twitter\" style={{ color: \"#00acee\" }}></i>\r\n          </a>\r\n          <a href=\"https://www.instagram.com/\">\r\n            <i className=\"fab fa-instagram\" style={{ color: \"black\" }}></i>\r\n          </a>\r\n          <a href=\"https://www.youtube.com/\">\r\n            <i className=\"fab fa-youtube\" style={{ color: \"#c4302b\" }}></i>\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer","import React, {useState} from 'react'\r\nimport { connect } from 'react-redux'\r\nimport authActions from '../redux/actions/authActions'\r\nimport GoogleLogin from 'react-google-login'\r\nimport FacebookLogin from 'react-facebook-login';\r\nimport Swal from'sweetalert2';\r\n\r\n\r\nconst Register = ( props ) => {\r\n\r\n    const [usuario, setUsuario] = useState({\r\n        firstname:'',lastname:'',birthday:'',email:'',password:'', image:''\r\n    })\r\n    const [visible, setVisible] = useState(false)\r\n\r\n    const readInput = e => { //receive the event\r\n        const valor = e.target.value // capture the value\r\n        const campo = e.target.name // capture the field\r\n\r\n        setUsuario ({ //modify the user I have in the useState\r\n            ...usuario,\r\n            [campo]:valor\r\n        });\r\n    }\r\n\r\n    const checkIfInputsAreEmpty = usuario.firstname === ''|| usuario.lastname  === ''|| usuario.birthday === ''|| usuario.email === ''|| usuario.password === '';\r\n\r\n    const alertError = (error) =>{\r\n        Swal.fire({\r\n            icon: 'error',\r\n            title: '¡CUIDADO!',\r\n            text: error,\r\n            showConfirmButton: false,\r\n            timer: 4000\r\n            })\r\n    }\r\n\r\n    const alertSuccess = () => {\r\n        Swal.fire({\r\n            icon: 'success',\r\n            title: 'Bienvenido',\r\n            text: '¡Segui disfrutando de tus libros favoritos!',\r\n            showConfirmButton: false,\r\n            timer: 4000\r\n          })\r\n        }\r\n\r\n    const validateUser = async e => { // function that runs when you click the create user button\r\n        e.preventDefault() //prevent reloading the page\r\n        if(checkIfInputsAreEmpty){\r\n            const text = 'Verifique que todos los campos esten llenos'\r\n            alertError(text)\r\n            return false\r\n        }\r\n\r\n        const respuesta = await props.makeNewUser(usuario)\r\n        if(respuesta && !respuesta.success){\r\n            respuesta.errores.map(respuesta=>alertError(respuesta.message))\r\n        }else{\r\n            alertSuccess()\r\n        }\r\n    }\r\n\r\n    const responseGoogle = async (response) => {\r\n        if(response.error){\r\n            const text = 'Algo salio mal con tu cuenta de Google, vuelve a intentar!'\r\n            alertError(text)\r\n        }else{\r\n            const respuesta = await props.makeNewUser({\r\n                firstname: response.profileObj.givenName,\r\n                lastname: response.profileObj.familyName,\r\n                email: response.profileObj.email,\r\n                password:response.profileObj.googleId,\r\n                image: response.profileObj.imageUrl\r\n            })\r\n        if(respuesta && !respuesta.success){\r\n            alertError(respuesta.error)\r\n        }else{\r\n            alertSuccess()\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nreturn (\r\n    <div className=\"containerRegister\">\r\n        <div className=\"imagRegister\"></div>\r\n            <div className=\"registerInput\" >\r\n                <div className= \"register\">\r\n                    <h2>Crear Usuario</h2>\r\n                    <div className=\"nameAndLastName\">\r\n                        <input className=\"inputRegister\" type=\"text\" name=\"firstname\" placeholder=\"Nombre\" onChange={readInput}/>\r\n                        <input className=\"inputRegister\" type=\"text\" name=\"lastname\" placeholder=\"Apellido\" onChange={readInput}/>\r\n                    </div>\r\n                    <input  className=\"inputRegister\" type=\"date\" min=\"1950-01-01\" max=\"2021-2-31\" name=\"birthday\" placeholder=\"fechas de nacimiento\" onChange={readInput}/>\r\n                    <div className=\"userNameAndPassword\">\r\n                        <input className=\"inputRegister\" type=\"text\" name=\"email\" placeholder=\"Email\" onChange={readInput} />\r\n                        <div style={{display:'flex',alignItems:'center'}}>\r\n                            <input className=\"inputRegister\" type={visible ? \"text\" : \"password\"} name=\"password\" placeholder=\"Contraseña\" onChange={readInput} />\r\n                            <i className={visible ? \"far fa-eye-slash\" : \"far fa-eye\"} onClick={()=>setVisible(!visible)}></i>\r\n                        </div>\r\n                    </div>\r\n                    <p>*La contraseña debe contener al menos un número.</p>\r\n                    <button className=\"botonRegister\" onClick={validateUser} >Crear usuario</button>\r\n                        <GoogleLogin\r\n                            clientId=\"1087968275357-m12u0vuij7mp2vs76frlkn5of8ae1are.apps.googleusercontent.com\"\r\n                            buttonText=\"Crear usuario con google\"\r\n                            onSuccess={responseGoogle}\r\n                            onFailure={responseGoogle}\r\n                            cookiePolicy={'single_host_origin'}\r\n                        />\r\n                </div>\r\n            </div>\r\n        <div style={{height:\"50vh\", width:\"60vw\"}}>\r\n        </div>\r\n    </div>\r\n        )\r\n    }\r\n\r\nconst mapDispatchToProps = { // map the actions\r\n    makeNewUser: authActions.makeNewUser //mapDispachToProps object that has an action value\r\n}\r\n\r\nexport default connect(null,mapDispatchToProps) (Register)\r\n","import React, {useState} from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {Link} from 'react-router-dom'\r\nimport authActions from '../redux/actions/authActions'\r\nimport GoogleLogin from 'react-google-login'\r\nimport FacebookLogin from 'react-facebook-login';\r\nimport Swal from'sweetalert2';\r\n\r\n\r\nconst SignIn =(props) => {\r\n\r\n    const [userLogueado, setUserLogueado] = useState({})\r\n    const [visible, setVisible] = useState(false)\r\n\r\n    const alertError = (error) =>{\r\n        Swal.fire({\r\n            icon: 'error',\r\n            title: '¡CUIDADO!',\r\n            text: error,\r\n            showConfirmButton: false,\r\n            timer: 4000\r\n            })\r\n    }\r\n\r\n    const alertSuccess = () => {\r\n        Swal.fire({\r\n            icon: 'success',\r\n            title: 'Bienvenido',\r\n            text: '¡Segui disfrutando de tus libros favoritos!',\r\n            showConfirmButton: false,\r\n            timer: 4000\r\n          })\r\n        }\r\n\r\n    const readInput = e => { //receive the event\r\n        const valor = e.target.value // capture the value\r\n        const campo = e.target.name // capture the field\r\n        setUserLogueado ({//modify the user I have in the useState\r\n            ...userLogueado,\r\n            [campo]:valor\r\n        })\r\n    }\r\n\r\n    const validateUser = async e => { // function that runs when you click the create user button\r\n        e.preventDefault() //prevent reloading the page\r\n        if( userLogueado.email === \"\" || userLogueado.password === \"\"){\r\n            const text = 'Verifique que todos los campos esten llenos'\r\n            alertError(text)\r\n            return false\r\n        }\r\n        const respuesta = await props.logInUser(userLogueado)\r\n        if(respuesta && !respuesta.success){\r\n            alertError(respuesta.mensaje)\r\n        }else{\r\n            alertSuccess()\r\n        }\r\n    }\r\n\r\n    const responseGoogle = async (response) => {\r\n        if(response.error){\r\n            const text = 'Algo salio mal con tu cuenta de Google, vuelve a intentar!'\r\n            alertError(text)\r\n        }else{\r\n            const respuesta = await props.logInUser({\r\n                email: response.profileObj.email,\r\n                password:response.profileObj.googleId\r\n            })\r\n        if(respuesta && !respuesta.success){\r\n            alertError(respuesta.mensaje)\r\n        }else{\r\n            alertSuccess()\r\n        }\r\n    }\r\n}\r\n\r\n\r\n    return (\r\n<div className=\"containerLogin\">\r\n        <div className=\"imagRegister\"></div>\r\n            <div className=\"registerInput\" >\r\n                <div className= \"login\">\r\n                    <h2>Iniciar Sesion</h2>\r\n                        <input className=\"inputRegister\" type=\"text\" name=\"email\" placeholder=\"Nombre de Usuario\" onChange={readInput}/>\r\n                        <div className=\"a\">\r\n                            <input className=\"inputRegisterPassword\" type={visible ? \"text\" : \"password\"} name=\"password\" placeholder=\"Contraseña\" onChange={readInput}/>\r\n                            <div className='ojito'><i className={visible ? \"far fa-eye-slash\" : \"far fa-eye\"} onClick={()=>setVisible(!visible)}></i></div>\r\n                        </div>\r\n                    <button className=\"botonRegister\" onClick={validateUser} >Iniciar sesion</button>\r\n                    <GoogleLogin\r\n                        clientId=\"1087968275357-m12u0vuij7mp2vs76frlkn5of8ae1are.apps.googleusercontent.com\"\r\n                        buttonText=\"Iniciar sesion con google\"\r\n                        onSuccess={responseGoogle}\r\n                        onFailure={responseGoogle}\r\n                        cookiePolicy={'single_host_origin'}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div style={{height:\"50vh\", width:\"60vw\"}}>\r\n        </div>\r\n            <Link to=\"/send-email\"><h5>Olvidaste tu contraseña?</h5></Link>\r\n    </div>\r\n    )\r\n    }\r\n\r\n\r\nconst mapDispatchToProps = { // map the actions\r\n    logInUser: authActions.logInUser\r\n}\r\n\r\nexport default connect(null,mapDispatchToProps) (SignIn)","import {connect} from 'react-redux'\r\nimport {useState,useEffect}from'react'\r\nimport bookActions from \"../redux/actions/bookActions\"\r\nimport Story from './Story'\r\nimport {Spinner} from 'reactstrap'\r\nconst Stories = (props)=>{\r\n    const namePage = props.match.params.genre\r\n    const [boolean,setBoolean]=useState(true)\r\n    const [loaded, setLoaded]=useState(false)\r\n    const [value, setValue] = useState('')\r\n    \r\n    useEffect(async()=>{\r\n        await props.getByGenre(namePage)\r\n        setLoaded(true)\r\n        props.booksByGenre.sort((a,b)=> b.views - a.views)\r\n    },[namePage])\r\n\r\n    if(value !== \"\") {\r\n        sortFilter()\r\n        setValue('mostPopular')\r\n        setBoolean(!boolean)\r\n        setValue(\"\")\r\n    }\r\n\r\n \r\n    function sortFilter() {\r\n        if(value ===\"mostPopular\"){\r\n            props.booksByGenre.sort((a,b)=> b.views - a.views)\r\n        }else if(value === \"lessPopular\"){\r\n            props.booksByGenre.sort((a,b)=> a.views - b.views)\r\n        }\r\n    }\r\n    return (\r\n        <>\r\n        {!loaded ? \r\n        <div className=\"cajaSpinner\">\r\n        <div className=\"cajitaSpinner\">\r\n          <Spinner  className=\"spinner\"/>\r\n        </div>\r\n      </div>\r\n        :\r\n        <div className='storiesContainer'>\r\n        <h1>Historias de <span className='capitalize'>{namePage}</span></h1>\r\n        <div className='boxStories'>\r\n            <div className='upContainerStories'>\r\n                <p className='storyNumber'>{props.booksByGenre.length} Historias</p>\r\n                <div className='boxInputStories'>\r\n                    <label htmlFor=\"popular\">Filtrar Por:</label>\r\n                    <select onChange={e => setValue(e.target.value)} name=\"popular\" id=\"cars\">\r\n                        <option value=\"mostPopular\">Mas Populares</option>\r\n                        <option value=\"lessPopular\">Menos Populares</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div className='downContainerStories'>\r\n                {props.booksByGenre.length === 0 ? \r\n                <div className='ops' style={{height:\"50vh\"}}>\r\n                    <h1>Aún no hay historias en esta sección, se el primero!</h1>\r\n                </div>:\r\n                boolean ? props.booksByGenre.map((libro, i)=>{\r\n                    return(\r\n                        <Story libro={libro} key={`story${i}`}/>\r\n                    )\r\n                }): props.booksByGenre.map((libro, i)=>{\r\n                    return(\r\n                        <Story libro={libro} key={`story${i}`}/>\r\n                    )\r\n                })}\r\n            </div>\r\n        </div>\r\n    </div>}\r\n        </>\r\n    )\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        books: state.bookR.books,\r\n        booksByGenre: state.bookR.booksByGenre\r\n    }\r\n  }\r\n\r\nconst mapDispatchToProps = {\r\n    getByGenre: bookActions.getByGenre,\r\n\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Stories);\r\n","import { connect } from \"react-redux\"\r\nimport { useState, useEffect } from \"react\"\r\nimport {Link} from \"react-router-dom\"\r\nimport bookActions from \"../redux/actions/bookActions\"\r\nimport Swal from \"sweetalert2\";\r\n\r\n\r\nconst NewChapter = (props) => {\r\n  const [title, setTitle] = useState('')\r\n  const [content, setContent] = useState('')\r\n  const [chapter, setChapter] = useState([])\r\n  const [continuar, setContinuar] = useState(false)\r\n  const id = props.match.params.id\r\n\r\n  const sendTitle=async ()=>{\r\n    setContinuar(!continuar)\r\n    props.addChapter(title, id, props.loggedUser.token)\r\n  }\r\n  \r\n  const keyPress=async (e)=>{\r\n    if(e.key==='Enter') {\r\n      setChapter([\r\n        ...chapter, content\r\n      ])\r\n      if(content.content===''){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: 'No puedes añadir un capitulo vacío!',\r\n          showConfirmButton: true,\r\n          timer: 2000\r\n        })\r\n      }\r\n      props.sendContent(content, title, id, props.loggedUser.token)\r\n      setContent('')\r\n      setContent({content:''})\r\n      e.preventDefault()\r\n      \r\n    }\r\n  }\r\n  console.log(content)\r\n  const send = async (e) => {\r\n    e.preventDefault()\r\n    setChapter('')\r\n    setTitle('')\r\n    setContinuar(!continuar)\r\n      Swal.fire({\r\n        icon: 'success',\r\n        title: 'Listo',\r\n        text: '¡Nuevo capitulo creado!',\r\n        showConfirmButton: true,\r\n        timer: 2000\r\n      })\r\n  }\r\n  return (\r\n    <section className=\"chapter\">\r\n      <div className=\"imag-form-chapter\"></div>\r\n      <div className=\"frase-form\">\r\n        <div className=\"frase-chapter\">\r\n          <h4>« ¡Atrapá al lector desde la primera página y lográ que tu historia este entre las más populares! »</h4>\r\n        </div>\r\n        <div className=\"container-form-chapter\">\r\n          <div className=\"capitulo\" style={{display:'flex',flexDirection:'column',alignItems:'center',marginTop:'2vh'}}>\r\n            <h3>Agregar el nombre de tu nuevo capítulo</h3>\r\n            <div className=\"line\">\r\n              <input className=\"input-chapter\" type=\"text\" name=\"title\" disabled={continuar && true} id=\"title\" placeholder=\"Capitulo\" value={title} onChange={(e)=>setTitle(e.target.value)} />\r\n            </div>\r\n            {!continuar && <button className=\"buttonNewChapter\" onClick={sendTitle}>Listo!</button>}\r\n          </div>\r\n          {continuar && \r\n          <>\r\n          <div className=\"form-chapter\">\r\n            {chapter.length > 0 && <div className=\"chapterSended\">\r\n              {chapter.map(content=> <textarea disabled style={{resize: 'none', width: '100%'}} >{content.content}</textarea>)}</div>}\r\n          </div>\r\n            <textarea type=\"text\" className=\"textarea-chapter\" name=\"content\" id=\"content\" cols=\"20\" rows=\"5\" placeholder=\"Comenza a escibir tu historia...\" \r\n            onKeyPress={keyPress} style={{ resize: 'none', width: '90%' }} value={content.content} onChange={(e)=>setContent({content:e.target.value})}></textarea>\r\n          <div style={{display:'flex', width:'46vw', justifyContent:'space-between', marginBottom:'10vh'}}>\r\n              <button className=\"buttonNewChapter\" onClick={send}><span>Añadir capitulo al libro!</span></button>\r\n              <Link to={`/finish-book/${id}`} id={id}><button className=\"buttonNewChapter\"><span>Finalizar</span></button></Link>\r\n          </div>\r\n          <p style={{fontSize:'2.2vh'}}> * Cada vez que aprietes la tecla \"Enter\" se crea un nuevo párrafo.</p>\r\n          <p style={{fontSize:'2.2vh'}}>* Añades el capitulo a tu libro y sigues escribiendo!</p>\r\n          <p style={{marginBottom:'3vh', fontSize:'2.2vh'}}> * Al hacer click en \"Finalizar\" tu libro se da por terminado y puedes agregarle foto de portada!</p></>}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loggedUser: state.auth.loggedUser,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  addChapter: bookActions.addChapter,\r\n  sendContent: bookActions.sendContent,\r\n  getBooks: bookActions.getBooks,\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NewChapter)","import { connect } from \"react-redux\"\r\nimport { useEffect, useState } from \"react\"\r\nimport bookActions from \"../redux/actions/bookActions\"\r\nimport Swal from'sweetalert2';\r\n\r\n\r\nconst NewBook =(props)=>{\r\n  const [book, setBook] = useState({})\r\n\r\n  const readInput =(e)=> {\r\n    var value = e.target.value\r\n    const prop = e.target.name\r\n    if (prop ==='image') value = e.target.files[0]\r\n    setBook({\r\n      ...book,\r\n      [prop]:value,\r\n    })\r\n  }\r\n\r\n  useEffect(()=>{\r\n    if(props.newBook._id) props.history.push(`/new-book/${props.newBook._id}`)\r\n  },[props.newBook._id])\r\n\r\n\r\n  const send= async (e) => {\r\n    e.preventDefault();\r\n\r\n    if(!book.genre || book.genre === ''|| book.title ===''|| book.description ===''|| book.user ==='' || book.image ===''){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Verifique que todos los campos esten llenos.',\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n        })\r\n    } else {\r\n      const formData = new FormData()\r\n      formData.append('genre', book.genre.trim())\r\n      formData.append('title', book.title.trim())\r\n      formData.append('description', book.description.trim())\r\n      const respuesta = await props.addBook(formData, props.loggedUser.token)\r\n\r\n      if(respuesta && !respuesta.success){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡CUIDADO!',\r\n          text: respuesta.mensaje,\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n        });\r\n      } else {\r\n        Swal.fire({\r\n          icon: 'success',\r\n          title: 'Listo',\r\n          text: '¡Nuevo libro creado!',\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n        })\r\n      }\r\n    }\r\n\r\n\r\n  }\r\n return (\r\n    <section className=\"section-form-book\">\r\n    <div className=\"imag-form-book\"></div>\r\n    <div className=\"frase-form\">\r\n      <div className=\"frase\">\r\n        <h4>« Escribir es la manera más profunda de leer la vida »</h4>\r\n        <h3>- Francisco Umbral. -</h3>\r\n      </div>\r\n      <div className=\"container-form-book\">\r\n        <form className=\"form-book\">\r\n          <h5 className=\"newBook\">Nuevo Libro</h5>\r\n          <input className=\"input-formBook\" type=\"text\" name=\"title\" id=\"title\" placeholder=\"Titulo\" onChange={readInput} />\r\n          <textarea className=\"textarea-formBook\" name=\"description\" id=\"description\" cols=\"30\" rows=\"10\" placeholder=\"Descripcion\" onChange={readInput}></textarea>\r\n          <select className=\"input-formBook\" name=\"genre\" id=\"genre\" defaultValue={'Elige un Género'} onChange={readInput}>\r\n            <option value=\"\" >Elige un Género</option>\r\n            <option value=\"Acción\">Acción</option>\r\n            <option value=\"Aventura\">Aventura</option>\r\n            <option value=\"Ciencia Ficción\">Ciencia Ficción</option>\r\n            <option value=\"Clásicos\">Clásicos</option>\r\n            <option value=\"Historias Cortas\">Historias Cortas</option>\r\n            <option value=\"Históricas\">Históricas</option>\r\n            <option value=\"Humor\">Humor</option>\r\n            <option value=\"Romance\">Romance</option>\r\n            <option value=\"Suspenso\">Suspenso</option>\r\n            <option value=\"Terror\">Terror</option>\r\n          </select>\r\n          {/* <input type=\"file\" name=\"image\" id=\"image\" onChange={readInput}/> */}\r\n          <button onClick={send} className=\"buttonDiscover\"><span>Escribir capítulo </span></button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </section>\r\n  )\r\n}\r\n\r\nconst mapStateToProps =state=> {\r\n  return {\r\n    newBook: state.bookR.newBook,\r\n    loggedUser: state.auth.loggedUser\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  addBook: bookActions.addBook\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NewBook)","import { useEffect, useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport authActions from '../redux/actions/authActions'\r\nimport Swal from'sweetalert2';\r\n\r\n\r\nconst Settings = (props) => {\r\n  const [change, setChange] = useState(false)\r\n  const [email, setEmail] = useState('')\r\n  const [firstname, setFirstname] = useState('')\r\n  const [lastname, setLastname] = useState('')\r\n  const [birthday, setBirthday] = useState('')\r\n  const [image, setImage] = useState('')\r\n  const [fileUrl, setFileUrl] = useState(null)\r\n\r\n\r\n  useEffect(()=>{\r\n    if(!props.loggedUser){\r\n      props.history.push('/search')\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: '¡Ups!',\r\n        text: 'Algo salio mal, te pedimos disculpas',\r\n        showConfirmButton: false,\r\n        timer: 4000\r\n        })\r\n    }else{\r\n      setEmail(props.loggedUser.email)\r\n      setFirstname(props.loggedUser.firstname)\r\n      setLastname(props.loggedUser.lastname)\r\n      if(props.loggedUser.birthday) setBirthday(props.loggedUser.birthday.substr(-25, 10))\r\n    }\r\n  },[])\r\n\r\n  const edit = (e) => {\r\n    e.preventDefault()\r\n    setChange(!change)\r\n  }\r\n\r\n  const processImage = () => {\r\n    const imagen= document.getElementById('image').files[0]\r\n    const foto = URL.createObjectURL(imagen)\r\n    setFileUrl(foto)\r\n  }\r\n\r\n  const fileReader = (e) => {\r\n    processImage()\r\n    setImage(e.target.value)\r\n  }\r\n\r\n  const alertError = (error) =>{\r\n    Swal.fire({\r\n        icon: 'error',\r\n        title: '¡CUIDADO!',\r\n        text: error,\r\n        showConfirmButton: false,\r\n        timer: 4000\r\n        })\r\n  }\r\n\r\n  const send = e => {\r\n    e.preventDefault()\r\n    const emailValue = document.getElementById('email').value\r\n    const firstnameValue= document.getElementById('firstname').value\r\n    const lastnameValue= document.getElementById('lastname').value\r\n    const birthdayValue= document.getElementById('birthday').value\r\n    const imageValue= document.getElementById('image').files[0]\r\n    const formData = new FormData()\r\n\r\n    formData.append('email', emailValue.trim())\r\n    formData.append('firstname', firstnameValue.trim())\r\n    formData.append('lastname', lastnameValue.trim())\r\n    formData.append('birthday', birthdayValue)\r\n    formData.append('image', imageValue)\r\n    formData.append('id', props.loggedUser.id)\r\n\r\n    var filesExtension = ['.jpg', '.png', '.jpeg']\r\n\r\n    if(emailValue==='' || firstnameValue=== '' || lastnameValue === ''){\r\n      const text = 'Verifique que todos los campos esten llenos'\r\n      alertError(text)\r\n    }else if(imageValue && filesExtension.some(file=>imageValue.name.includes(file))){\r\n      props.modifyUser(formData)\r\n      Swal.fire({\r\n        icon: 'success',\r\n        title: 'Listo!',\r\n        text: 'Ajustes guardados',\r\n        showConfirmButton: false,\r\n        timer: 4000\r\n      })\r\n    }else {\r\n      const text = 'Extension de archivo no permitida'\r\n      alertError(text)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <section className=\"settings\">\r\n      <div className=\"imagSettings\"></div>\r\n      <div className=\"container-form-settings\">\r\n        <form className=\"form-settings\">\r\n          <div className=\"tituloIcon\">\r\n            <div className=\"iconoAjus\"></div>\r\n              <h4>Ajustes de usuario</h4>\r\n              <button className=\"settingsEdit\" onClick={edit}>\r\n                <i className=\"fas fa-pencil-alt editPencil\" style={{color: 'white'}}></i>\r\n                <p>Comenzar</p>\r\n              </button>\r\n          </div>\r\n          <div className=\"line\">\r\n            <label htmlFor=\"email\">Email</label>\r\n            <input type=\"text\" name=\"email\" id=\"email\" value={email} disabled={!change ? true : false} onChange={(e)=>setEmail(e.target.value)} />\r\n          </div>\r\n          <div className=\"line\">\r\n            <label htmlFor=\"firstname\">Nombre</label>\r\n            <input type=\"text\" name=\"firstname\" id=\"firstname\" disabled={!change ? true : false} value={firstname} onChange={(e)=>setFirstname(e.target.value)} />\r\n          </div>\r\n          <div className=\"line\">\r\n            <label htmlFor=\"lastname\">Apellido</label>\r\n            <input type=\"text\" name=\"lastname\" id=\"lastname\" disabled={!change ? true : false} value={lastname} onChange={(e)=>setLastname(e.target.value)} />\r\n          </div>\r\n          <div className=\"line\">\r\n            <label htmlFor=\"birthday\">Fecha de nacimiento</label>\r\n            <input type=\"date\" name=\"birthday\" id=\"birthday\" disabled={!change ? true : false} value={birthday} onChange={(e)=>setBirthday(e.target.value)} />\r\n          </div>\r\n          <div className=\"lineImgUser\">\r\n              <div className=\"selectImagPerfil\" style={{cursor: 'pointer'}}>\r\n                <label htmlFor=\"image\" for=\"image\" style={{cursor: 'pointer'}}>\r\n                  <i style={{cursor: 'pointer'}} for=\"image\" class=\"fas fa-hand-pointer\"></i>\r\n                  <h6 style={{cursor: 'pointer'}} >Click para seleccionar Imagen</h6>\r\n                </label>\r\n              </div>\r\n            <input className=\"imagePort\" type=\"file\" name=\"image\" id=\"image\" value={image} onChange={fileReader}/>\r\n          </div>\r\n          <div className=\"line\">\r\n            <div className=\"buttonSettings\" onClick={send}><span>Confirmar cambios</span></div>\r\n          </div>\r\n        </form>\r\n        <div className=\"userImage\" style={{width: '20vw', height: '50vh', boxShadow: '0px 5px 5px rgba(0,0,0,0.2)', backgroundImage: `url('${fileUrl}')`}}>\r\n      </div>\r\n    </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loggedUser: state.auth.loggedUser\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  modifyUser: authActions.modifyUser\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Settings)","import {useEffect} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport { Link } from \"react-router-dom\"\r\nimport {Spinner} from 'reactstrap'\r\n\r\nconst StoryBook = (props)=>{\r\n    var namePage = props.match.params.id\r\n    var filtro = props.books.filter(libro=> libro._id === namePage)\r\n    var indexPage = parseInt(props.match.params.index)\r\n\r\n    useEffect(()=>{\r\n        window.scrollTo(0,0)\r\n    },[])\r\n\r\n    return(\r\n        <>\r\n            {filtro.length === 0 ? \r\n            <div className=\"cajaSpinner\">\r\n            <div className=\"cajitaSpinner\">\r\n              <Spinner  className=\"spinner\"/>\r\n            </div>\r\n          </div>\r\n            :\r\n            <div className=\"containerCap\">\r\n            <div className=\"containerTitleAndUser\">\r\n                <div className=\"titleCap\">\r\n                    <p>{filtro[0].chapters[indexPage].title}</p>\r\n                    <div style={{width:'30vh', display:'flex',justifyContent:'space-between'}}>\r\n                        <h5><i className=\"far fa-eye\"></i> {filtro[0].views} </h5>\r\n                        <h5><i className=\"far fa-star\"></i> {filtro[0].stars.length}</h5>\r\n                        <h5><i className=\"fas fa-list-ul\"></i> {filtro[0].chapters.length}</h5>\r\n                    </div>\r\n                </div>\r\n                <div className=\"containerParrafosAndButton\">\r\n                    <div className=\"containerParrafos\">\r\n                        {filtro[0].chapters[indexPage].chapter.map(parrafo=>{\r\n                            return(\r\n                                <p key={parrafo.content}>{parrafo.content}</p>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                    {indexPage === filtro[0].chapters.length -1 ? <Link to={`/story/${filtro[0]._id}`}><button><span>Volver al libro</span></button></Link> : <Link to={`/book/${filtro[0]._id}/${filtro[0].chapters[indexPage]._id}/${indexPage+1}`}><button><span>Sigue leyendo la parte siguiente</span></button></Link>}\r\n                </div>\r\n            </div>\r\n        </div>}\r\n        </>\r\n    )\r\n    \r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        books: state.bookR.books,\r\n\r\n    }\r\n  }\r\n\r\nexport default connect(mapStateToProps)(StoryBook);","import { useState, useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Button, Input } from 'reactstrap'\r\nimport bookActions from '../redux/actions/bookActions'\r\n\r\nconst Comment = (props) => {\r\n    const [value, setValue] = useState('')\r\n    const [input, setInput] = useState(false)\r\n    const [loggedUser, setLoggedUser] = useState('')\r\n\r\n    useEffect(() => {\r\n        if (props.loggedUser) {\r\n            setLoggedUser(props.loggedUser.id)\r\n        }\r\n    }, [])\r\n    \r\n    const deleteC = async (e) => {\r\n        await props.deleteComments(props.id, props.comment._id, props.loggedUser.token)\r\n    }\r\n    const modiComment = async (e) => {\r\n        await props.modComment(value, props.comment._id, props.id, props.loggedUser.token)\r\n        setInput(!input)\r\n    }\r\n\r\nconst keyPress = e => {\r\n    if (e.key === 'Enter') {\r\n        modiComment()\r\n    }\r\n}\r\n    return (\r\n        <div className=\"containerComment\">\r\n            <div className=\"containerComments\">\r\n                <div className=\"userPicAndName\">\r\n                    {props.comment.userPic ?\r\n                    <img src={props.comment.userPic} className=\"rounded-circle\" alt=\"...\"/> :\r\n                    <div className=\"dropDownPic\" >{props.comment.firstName.toUpperCase().substr(0, 1)}</div>}\r\n                    <h6 className=\"index\">{props.comment.firstName}</h6>\r\n                </div>\r\n                    {!input ?\r\n                    <div className=\"contentComment\">\r\n                        <p>{props.comment.content}</p>\r\n                    </div>\r\n                    :\r\n                    <div className=\"d-flex\">\r\n                        <Input className=\"comment\" id=\"comment\" type=\"text\" placeholder=\"Edit comment\" onChange={(e) => {setValue(e.target.value)}} onKeyPress={keyPress}/>\r\n                        <Button onClick={modiComment}><i className=\"fas fa-paper-plane\"></i></Button>\r\n                    </div>}\r\n                {props.loggedUser && loggedUser === props.comment.userId &&\r\n                <div className=\"botonesEditAndBorrar\">\r\n                    <Button onClick={deleteC}><i className=\"far fa-trash-alt\"></i></Button>\r\n                    <Button onClick={() => {setInput(!input)}}><i className=\"far fa-edit\"></i></Button>\r\n                </div>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n    loggedUser: state.auth.loggedUser\r\n    }\r\n  }\r\n\r\nconst mapDispatchToProps = {\r\n    deleteComments: bookActions.deleteComment,\r\n    modComment: bookActions.modComment\r\n\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Comment)","import React, { useState, useEffect } from 'react'\r\nimport {connect} from 'react-redux'\r\nimport bookActions from \"../redux/actions/bookActions\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { Button, Input, Spinner} from 'reactstrap'\r\nimport Comment from './Comment'\r\nimport Swal from'sweetalert2';\r\n\r\nconst StoryDescription = (props)=>{\r\n    const [reload, setReload] = useState(false)\r\n    const [value, setValue] = useState('')\r\n    const [voted, setVoted] = useState('')\r\n    var namePage = props.match.params.id\r\n    var filtro = props.books.filter(libro => libro._id === namePage)\r\n    useEffect(() => {\r\n        if(props.loggedUser) {\r\n            setVoted(props.loggedUser.id)\r\n        }\r\n        if(props.comments.comments) {\r\n            props.comments.comments.map(comment => console.log(comment))\r\n        }\r\n    }, [props.loggedUser])\r\n    const enviar =  async () => {\r\n        await props.addComment(value, filtro[0]._id, props.loggedUser.token)\r\n        setValue(\"\")\r\n    }\r\n\r\n    const votes = async () => {\r\n        props.vote(filtro[0]._id, props.loggedUser.token)\r\n        filtro[0].stars.push(props.loggedUser.id)\r\n        setReload(!reload)\r\n    }\r\n    const dismissVote = async () => {\r\n        props.dismissVote(filtro[0]._id, props.loggedUser.token)\r\n        filtro[0].stars.pop(props.loggedUser.id)\r\n        setReload(!reload)\r\n    }\r\n    const keyPress = e => {\r\n        if (e.key === 'Enter') {\r\n        enviar()\r\n        }\r\n    }\r\n    const redirect = () =>{\r\n        Swal.fire({\r\n            icon: 'error',\r\n            title: '¡Lo sentimos!',\r\n            text: 'Esta historia todavia no tiene capitulos',\r\n          })\r\n        props.history.push(`/stories/${filtro[0].genre}`)\r\n    }   \r\n    return(\r\n        <>\r\n        {filtro.length === 0 ? \r\n            <div className=\"cajaSpinner\">\r\n            <div className=\"cajitaSpinner\">\r\n            <Spinner  className=\"spinner\"/>\r\n            </div>\r\n            </div>: \r\n      <> <div className=\"conteinerResp\">\r\n                <div className=\"container-image-info-book\">\r\n                    <div className=\"imag-book-story-description\" style={{backgroundImage:`url('${filtro[0].image}')`}}></div>\r\n                    <div className=\"container-info-book\">\r\n                        <h2>{filtro[0].title}</h2>\r\n                        <h5>{filtro[0].genre}</h5>\r\n                        <div className=\"views-stars-chapters\">\r\n                            <div><h5> <i className=\"far fa-eye\"></i> {filtro[0].views} </h5></div>\r\n                            <div><h5> <i class=\"far fa-star\"></i> {filtro[0].stars.length}</h5></div>\r\n                            <div><h5> <i class=\"fas fa-list-ul\"></i> {filtro[0].chapters.length}</h5></div>\r\n                        </div>\r\n                        <div>\r\n                            <h5>{filtro[0].user.firstname} {filtro[0].user.lastname}</h5>\r\n                        </div>\r\n                        <div className=\"stars\">\r\n                            {filtro[0].chapters.length > 0\r\n                            ? <Link to={`/book/${filtro[0]._id}/${filtro[0].chapters[0]._id}/${0}`}>\r\n                            <button className=\"BotonLeer\">Leer</button></Link> : redirect()}\r\n                            {filtro[0].stars.includes(voted) \r\n                            ?\r\n                            <button className=\"BotonLeer\" onClick={props.loggedUser && dismissVote}>Quitar Voto <i class=\"fas fa-star\"></i></button>\r\n                            : \r\n                            <button className=\"BotonLeer\" onClick={props.loggedUser ? votes : ()=>alert('Necesitas iniciar sesion para poder votar!')}>Depositar voto <i class=\"far fa-star\"></i></button>}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"comment-table-container\">\r\n                <div>\r\n                    <div className=\"table-title-container\">\r\n                        <h2>Tabla de Contenidos</h2>\r\n                    </div>\r\n                    <div className=\"table-containe\">\r\n                        {filtro[0].chapters.map((chapter, index) => {\r\n                            return (\r\n                                <Link to={`/book/${filtro[0]._id}/${chapter._id}/${index}`}><button><p>{chapter.title}</p></button></Link>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                </div>\r\n                <div className=\"coments-container-storyDescription\">\r\n                    <div className=\"comments-storyDescription\">\r\n                        {props.comments.comments ?\r\n                        <div>\r\n                            {(props.comments.comments.map(comment => {\r\n                                return <Comment comment={comment} key={comment._id} id={filtro[0]._id}/>\r\n                            }))}\r\n                        </div>\r\n                        : filtro[0].comments.length > 0 ?\r\n                        <div>\r\n                            {(filtro[0].comments.map(comment => {\r\n                                return <Comment comment={comment} key={comment._id} id={filtro[0]._id}/>\r\n                            }))}\r\n                        </div> :\r\n                        <h2 className=\"text-center bg-white w-100\">Sin Comentarios</h2>}\r\n                    </div>\r\n                    <div>\r\n                        {props.loggedUser ?\r\n                        <div>\r\n                            <div className=\"inputButtomEnvComment\">\r\n                                <Input className=\"comment\" id=\"comment\" type=\"text\" placeholder=\"Comenta!\" value={value} onChange={(e)=> setValue(e.target.value)} onKeyPress={keyPress}/>\r\n                                <Button onClick={enviar}><i class=\"far fa-paper-plane\"></i></Button>\r\n                            </div>\r\n                        </div> :\r\n                        <div className=\"d-flex justify-content-center\">\r\n                            <Input className=\"comment w-50 text-center\" disabled type=\"text\" placeholder=\"Firts Logged plz\" />\r\n                        </div>}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            </>}\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loggedUser: state.auth.loggedUser,\r\n        books: state.bookR.books,\r\n        comments: state.bookR.comment\r\n    }\r\n  }\r\n\r\nconst mapDispatchToProps = {\r\n    addComment: bookActions.addComment,\r\n    vote: bookActions.vote,\r\n    dismissVote: bookActions.dismissVote,\r\n    incViews: bookActions.incViews\r\n\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(StoryDescription);","import {connect} from 'react-redux'\r\nimport {Link} from 'react-router-dom'\r\nconst MyBooks = (props)=>{\r\n    console.log(props.libro)\r\n    return (\r\n        <>\r\n        <div className='storyContainerProfile'>\r\n            <div className='containerFirstBlockStory'>\r\n                <div className='storyPicProfile' style={{backgroundImage:`url(${props.libro.image})`}}></div>\r\n                <div className='containerInformationBookProfile'>\r\n                    <p className='storyTitle'>{props.libro.title}</p>\r\n                    <p className='storyUserProfile'>de <span>{props.libro.user.firstname + ' ' + props.libro.user.lastname}</span></p>\r\n                    <p className='storyGenreProfile'>Genero: <span>{props.libro.genre}</span></p>\r\n                    <div className='storyIconsProfile'>\r\n                        <p className='storyViews'><i className=\"far fa-eye\"></i> {props.libro.views}</p>\r\n                        <p className='storyStars'><i className=\"far fa-star\"></i> {props.libro.stars.length}</p>\r\n                        <p className='storyChapters'><i className=\"fas fa-list-ul\"></i> {props.libro.chapters.length}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className='containerSecondBlockStory'>\r\n                <p className='storyDescription'>{props.libro.description.substr(0,130)+\"...\"}</p>\r\n            </div>            \r\n            <div className='containerThirdBlockStory'>\r\n                <div className='storyButtons'>\r\n                    <Link to={`/modify-book/${props.libro._id}`}><button className='btn btn-danger verMasStory'>Editar Libro</button></Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        books: state.bookR.books,\r\n        loggedUser: state.auth.loggedUser\r\n    }\r\n  }\r\nexport default connect(mapStateToProps)(MyBooks);\r\n","import { Link } from 'react-router-dom'\r\nimport Settings from './Settings'\r\nimport { connect } from 'react-redux'\r\nimport {useState} from 'react'\r\nimport MyBooks from './MyBooks'\r\nimport authActions from '../redux/actions/authActions'\r\n\r\nconst UserProfile = (props) => {\r\n    var myBooks = props.books.filter(book => book.user._id === props.loggedUser.id)\r\n    var booksLiked = props.books.filter(book => book.stars.includes(props.loggedUser.id))\r\n    const [visible, setVisible]=useState(true)\r\n\r\n    return(\r\n        <>\r\n            <div className='containerComponentUserProfile'>\r\n                <div className='containerBannerUserData'>\r\n                    <div className='bannerUserData'>\r\n                        <div className='photoEditProfile'>\r\n                            {props.loggedUser.image\r\n                            ?\r\n                            <div className='photoUser'style={{ backgroundImage: `url(${props.loggedUser.image})`}}>\r\n                            </div>:\r\n                            <div className=\"letterUser\">{props.loggedUser.firstname.toUpperCase().substr(0, 1)}\r\n                            </div>\r\n                            }\r\n                            <div className='buttonEditProfile'>\r\n                                <Link to='/settings'><button><i className=\"fas fa-cog\"></i> Editar mis Datos</button></Link>\r\n                            </div>\r\n                        </div>\r\n                        <div className='informationProfileUserBlock'>\r\n                            <div className='containerInformationFixed'>\r\n                            <div className='informationProfileUserFixed'>\r\n                                <div className='iconInformationProfileUserFixed'><i className=\"fas fa-user\"></i></div>\r\n                                <div className='dataInformationProfileUserFixed'><p>{props.loggedUser.firstname} {props.loggedUser.lastname}</p></div>\r\n                            </div>\r\n                            <div className='informationProfileUserFixed'>\r\n                                {props.loggedUser.birthday\r\n                                ?\r\n                                <>\r\n                                    <div className='iconInformationProfileUserFixed'><i className=\"fas fa-birthday-cake\"></i></div>\r\n                                    <div className='dataInformationProfileUserFixed'>\r\n                                        <p>{props.loggedUser.birthday.substr(0, 10)}</p>   \r\n                                    </div>\r\n                                </>\r\n                                :\r\n                                <>\r\n                                    <div className='iconInformationProfileUserFixed'><i className=\"fas fa-envelope\"></i></div>\r\n                                    <div className='dataInformationProfileUserFixed'>\r\n                                        <p>{props.loggedUser.email.substr(0, 10)}</p>   \r\n                                    </div>\r\n                                </>\r\n\r\n                                }\r\n                            </div>\r\n                            <div className='informationProfileUserFixed'>\r\n                                <div className='iconInformationProfileUserFixed'><i className=\"fas fa-bookmark\"></i></div>\r\n                                <div className='dataInformationProfileUserFixed'><p>Libros Guardados</p></div>\r\n                            </div>\r\n                            </div>\r\n                            <div className='buttonLogout'>\r\n                            <Link to='/' onClick={props.logOut}><button>Cerrar mi sesión</button></Link>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className='containerContentOptions'>\r\n                    <h2 className='titleProfile'>Mi Perfil</h2>\r\n                    <div className='containerNavMenu'>\r\n                        <Link ><div onClick={()=>setVisible(true)} className='optionMenu'>Mis Libros</div></Link>\r\n                        <Link ><div onClick={()=>setVisible(false)} className='optionMenu savedBooks'>Mi Biblioteca</div></Link>\r\n                    </div>\r\n                    <div className='containerViewComponentOption'>\r\n                    <div className='booksBoxUserProf'>\r\n                            {visible ? myBooks.length === 0 ? <h1 style={{textAlign:'center'}}>Todavía no tienes libros creados. Comienza a escribir tus historias</h1> : myBooks.map(book => <MyBooks libro={book}/>): \r\n                            booksLiked.length === 0 ? <h1 style={{textAlign:'center'}}>Todavia no te gusto ningun libro!</h1>: booksLiked.map(book=> <MyBooks libro={book}/>)}    \r\n                     </div>   \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    books: state.bookR.books,\r\n    loggedUser: state.auth.loggedUser\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    logOut: authActions.logOutUser\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserProfile)\r\n","import { connect } from \"react-redux\"\r\nimport { useState } from \"react\"\r\nimport bookActions from \"../redux/actions/bookActions\"\r\nimport Swal from'sweetalert2';\r\n\r\n\r\nconst FinishBook=(props)=>{\r\n  const id = props.match.params.id\r\n  console.log(props.match.url)\r\n  const [book, setBook] = useState({})\r\n  const [fileUrl, setFileUrl] = useState(null)\r\n\r\n  const processImage = () => {\r\n    const imagen = document.getElementById('image').files[0]\r\n    const foto = URL.createObjectURL(imagen)\r\n    setFileUrl(foto)\r\n  }\r\n\r\n  const selectImag = (e) => {\r\n    processImage()\r\n    var value = e.target.value\r\n    const prop = e.target.name\r\n    if (prop ==='image') value = e.target.files[0]\r\n    setBook({\r\n      ...book,\r\n      [prop]:value,\r\n    })\r\n  }\r\n\r\n  const send=()=>{\r\n    const formData = new FormData()\r\n    formData.append('image', book.image)\r\n    formData.append('id', id)\r\n    console.log(book.image)\r\n    var filesExtension = ['.jpg', '.png', '.jpeg']\r\n    if(book.image && filesExtension.some(file=>book.image.name.includes(file))){\r\n      props.addImage(formData, props.loggedUser.token)\r\n      Swal.fire({\r\n        icon: 'success',\r\n        title: 'Libro guardado con exito!',\r\n        showConfirmButton: false,\r\n        timer: 4000\r\n      })\r\n    }else{\r\n      Swal.fire({\r\n        icon: 'error',\r\n       title: 'Extension de archivo no permitida.',\r\n        showConfirmButton: false,\r\n        timer: 4000\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <section className=\"conteiner-finishBook\">\r\n      <div className=\"imagFinishBook\"></div>\r\n      <div className=\"form-finishBook\">\r\n        <div className=\"inputAndButtonFinishBook\">\r\n          <div className=\"finishBook\">\r\n            <h3>{props.match.url==='/finish-book/:id' ? 'Elegir foto de portada' : 'Cambiar foto de portada!'}</h3>\r\n            <div className=\"selectImagPort\" style={{cursor: 'pointer'}}>\r\n              <label style={{cursor: 'pointer'}} for=\"image\">\r\n                <i style={{cursor: 'pointer'}} for=\"image\" className=\"fas fa-hand-pointer\"></i>\r\n                <h6 style={{cursor: 'pointer'}}>Click para seleccionar Imagen</h6>\r\n              </label>\r\n            </div>\r\n            <input className=\"imagePort\" type=\"file\" name=\"image\" id=\"image\" onChange={selectImag}/>\r\n            <button onClick={send} className=\"buttonFinshBook\"><span>TERMINAR EL LIBRO</span></button>\r\n          </div>\r\n          <div className=\"portadaImage\" style={{boxShadow: '0px 5px 5px rgba(0,0,0,0.2)', backgroundImage: `url('${fileUrl}')`}}></div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loggedUser: state.auth.loggedUser\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  addImage: bookActions.addImage\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FinishBook)","import React, { useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport bookActions from '../redux/actions/bookActions'\r\nimport {Spinner} from 'reactstrap'\r\n\r\nconst ModifyBook = (props) => {\r\n  var namePage = props.match.params.id\r\n  var filtro = props.books.filter(libro => libro._id === namePage)\r\n\r\n  useEffect(() => {\r\n  }, [])\r\n\r\n  const deleteBook = async () => {\r\n    await props.deleteBook(namePage)\r\n    props.history.push(\"/userprofile\")\r\n  }\r\n\r\n  return (\r\n    <>\r\n\r\n      {filtro.length === 0 ?\r\n        <div className=\"cajaSpinner\">\r\n          <div className=\"cajitaSpinner\">\r\n            <Spinner className=\"spinner\" />\r\n          </div>\r\n        </div>\r\n        :\r\n        <> <div className=\"oneModify\">\r\n          <div className=\"twoModify\"></div>\r\n          <div className=\"threeModify\">\r\n            <div className=\"fourModify\" style={{ backgroundImage: `url('${filtro[0].image}')`, width: '15vw', height: '50vh' }}></div>\r\n            <div className=\"fiveModify\">\r\n              <h2>{filtro[0].title}</h2>\r\n              <h5>{filtro[0].genre}</h5>\r\n              <Link to={`/modify-book/${namePage}/image`}><button className=\"buttonModify\">Modificar Imagen</button></Link>\r\n              <button onClick={deleteBook} className=\"buttonModify\" style={{ backgroundColor: 'red', marginLeft: '1vw' }}>Eliminar Libro</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n          <div className=\"sixModify\">\r\n            <div className=\"sevenModify\">\r\n              <div className=\"eightModify\">\r\n                <h2>Tabla de Contenidos</h2>\r\n              </div>\r\n              <div className=\"nineModify\">\r\n                {filtro[0].chapters.map((chapter, index) => {\r\n                  return (\r\n                    <Link to={`/modify-book/${filtro[0]._id}/${chapter._id}/${index}`}><button><p>{chapter.title}</p></button></Link>)\r\n                })}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </>}\r\n    </>\r\n  )\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    books: state.bookR.books,\r\n    loggedUser: state.auth.loggedUser\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  deleteBook: bookActions.deleteBook\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModifyBook)","import React, {useState} from 'react'\r\nimport { connect } from 'react-redux'\r\nimport authActions from '../redux/actions/authActions'\r\n\r\nconst ForgotPassword = ( props ) => {\r\n    const email = props.match.params.email\r\n    const [usuario, setUsuario] = useState({ password:'', newPassword: '' })\r\n    const [errores, setErrores] = useState ([])\r\n    const [visible, setVisible] = useState(false)\r\n\r\n    const readInput = e => { //receive the event\r\n        const valor = e.target.value // capture the value\r\n        const campo = e.target.name // capture the field\r\n\r\n        setUsuario ({ //modify the user I have in the useState\r\n            ...usuario,\r\n            [campo]:valor\r\n        });\r\n    }\r\n\r\n    const checkIfInputsAreEmpty = !usuario.password\r\n    const changePassword = async e => { // function that runs when you click the create user button\r\n        e.preventDefault() //prevent reloading the page\r\n        if(checkIfInputsAreEmpty){\r\n            alert ('Debe ingresar una nueva contraseña')\r\n            return true\r\n        }else if(usuario.password !== usuario.newPassword){\r\n            alert('las contraseñas no coinciden')\r\n        }else{\r\n            const respuesta = await props.newPassword(email, usuario.password)\r\n            if(respuesta && !respuesta.success){\r\n                console.log(respuesta)\r\n            }else if(respuesta && respuesta.success){\r\n                alert ('Password almacenada con exito')\r\n            }\r\n        }\r\n    }\r\n\r\nreturn (\r\n    <div className=\"containerRegister\">\r\n        <div className=\"imagRegister\"></div>\r\n            <div className=\"registerInput\" >\r\n                <div className= \"register\">\r\n                    <h2>Recuperar Contraseña</h2>\r\n                    <div className=\"userNameAndPassword\">\r\n                        <div style={{display:'flex',alignItems:'center'}}>\r\n                            <input className=\"inputRegister\" type={visible ? \"text\" : \"password\"} name=\"password\" placeholder=\"Contraseña\" onChange={readInput} />\r\n                            <input className=\"inputRegister\" type={visible ? \"text\" : \"password\"} name=\"newPassword\" placeholder=\"Contraseña\" onChange={readInput} />\r\n                            <i className={visible ? \"far fa-eye-slash\" : \"far fa-eye\"} onClick={()=>setVisible(!visible)}></i>\r\n                        </div>\r\n                    </div>\r\n                    <button className=\"botonRegister\" onClick={changePassword} >Restablecer Contraseña</button>\r\n                </div>\r\n            </div>\r\n        <div style={{height:\"50vh\", width:\"60vw\"}}>\r\n            {/* {errores.map(error => alert(error))} */}\r\n        </div>\r\n    </div>\r\n        )\r\n    }\r\n\r\nconst mapDispatchToProps = { // map the actions\r\n    newPassword: authActions.newPassword //mapDispachToProps object that has an action value\r\n}\r\n\r\nexport default connect(null,mapDispatchToProps) (ForgotPassword)","import React, {useState} from 'react'\r\nimport { connect } from 'react-redux'\r\nimport authActions from '../redux/actions/authActions'\r\n\r\n\r\nconst SendEmail = ( props ) => {\r\n\r\n    const [email, setEmail] = useState('')\r\n    const [errores, setErrores] = useState ([])\r\n \r\n    const checkIfInputsAreEmpty = email===''\r\n\r\n    const validateUser = async e => { // function that runs when you click the create user button\r\n        e.preventDefault() //prevent reloading the page\r\n        if(checkIfInputsAreEmpty){\r\n            alert ('Debes escribir un email valido!')\r\n            return true\r\n        }\r\n        setErrores([])\r\n\r\n        const respuesta = await props.resetPassword(email)\r\n        if(respuesta && !respuesta.success){\r\n            setErrores(respuesta.errores.details)\r\n        }else{\r\n            alert (\"La solicitud de restablecimiento de contraseña fue generada con exito, chequea tu mail.\")\r\n        }\r\n    }\r\n\r\n   \r\n\r\n\r\nreturn (\r\n    <div className=\"containerRegister\">\r\n        <div className=\"imagRegister\"></div>\r\n            <div className=\"registerInput\" >\r\n                <div className= \"register\">\r\n                    <h2>Solicitud de restablecimiento de contraseña</h2>\r\n                    <div className=\"userNameAndPassword\">\r\n                        <input className=\"inputRegister\" type=\"text\" name=\"email\" placeholder=\"Email\" onChange={(e)=>setEmail(e.target.value.trim())} />\r\n                    </div>\r\n                    <button className=\"botonRegister\" onClick={validateUser} >Recuperar contraseña!</button>\r\n                </div>\r\n            </div>\r\n        <div style={{height:\"50vh\", width:\"60vw\"}}>\r\n            {/* {errores.map(error => alert(error))} */}\r\n        </div>\r\n    </div>\r\n        )\r\n    }\r\n\r\nconst mapDispatchToProps = { // map the actions\r\n   resetPassword : authActions.resetPassword //mapDispachToProps object that has an action value\r\n}\r\n\r\nexport default connect(null,mapDispatchToProps)(SendEmail)\r\n","import {connect} from 'react-redux'\r\nimport {useState, useEffect} from 'react'\r\nimport bookActions from \"../redux/actions/bookActions\"\r\n\r\nconst Content =(props)=>{\r\n  const [visible, setVisible] = useState(false)\r\n  const [updatedContent, setUpdatedContent] = useState('')\r\n  const {content, _id} = props.content\r\n  const {bookId, chapterId} = props\r\n\r\n  useEffect(()=>{\r\n    setUpdatedContent(content)\r\n  },[])\r\n\r\n  const edit =(e)=> {\r\n    setVisible(!visible)\r\n    setUpdatedContent(content)\r\n  }\r\n  const modifyContent= async () => {\r\n    await props.modifyContent(updatedContent, _id, chapterId, bookId, props.loggedUser.token)\r\n    setVisible(!visible)\r\n  }\r\n  const deleteContent =async()=>{\r\n    await props.deleteContent(_id, chapterId, bookId, props.loggedUser.token)\r\n  }\r\n  const keyPress=(e)=>{\r\n    e.key==='Enter' && modifyContent()\r\n  }\r\n  return (\r\n    <div>\r\n      {visible ?\r\n      <div className=\"form-chapter\">\r\n        <textarea className=\"textarea-chapter\" name=\"updatedContent\" id=\"updatedContent\" value={updatedContent} onChange={(e)=>setUpdatedContent(e.target.value)} style={{resize: 'none', width: '100%'}}></textarea>\r\n        <i onClick={modifyContent} onKeyPress={keyPress} className=\"fas fa-sign-in-alt\"></i>\r\n        <i onClick={()=>setVisible(!visible)} className=\"far fa-window-close\"></i>\r\n      </div>\r\n      :\r\n      <div>\r\n        <textarea name=\"updatedContent\" id=\"updatedContent\" disabled={!visible && true} value={updatedContent} style={{resize: 'none', width: '100%'}}></textarea>\r\n        <i onClick={edit} className=\"far fa-edit\"></i>\r\n        <i onClick={deleteContent} className=\"fas fa-eraser\"></i>\r\n      </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state =>{\r\n  return {\r\n    loggedUser: state.auth.loggedUser\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  modifyContent: bookActions.modifyContent,\r\n  deleteContent: bookActions.deleteContent\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Content)","import { connect } from \"react-redux\"\r\nimport { useState, useEffect } from \"react\"\r\nimport {Link} from \"react-router-dom\"\r\nimport bookActions from \"../redux/actions/bookActions\"\r\nimport Content from './Content'\r\nimport {Spinner} from 'reactstrap'\r\n\r\n\r\nconst ModifyChapter = (props) => {\r\n  const [title, setTitle] = useState('')\r\n  const [continuar, setContinuar] = useState(false)\r\n  const id = props.match.params.id\r\n  const chapterId =props.match.params.chapterId\r\n  const newChapter = props.match.url==='/new-book/:id'\r\n  var filtro = props.books.filter(book=> book._id === id)\r\n  var indexPage = parseInt(props.match.params.index)\r\n\r\n\r\n  useEffect(()=>{\r\n    if(filtro.length>0){\r\n    setTitle(filtro[0].chapters[indexPage].title)}\r\n  },[filtro])\r\n\r\n\r\n  const sendTitle=async ()=>{\r\n    setContinuar(!continuar)\r\n    props.modifyChapterTitle(title, id, chapterId, props.loggedUser.token)\r\n  }\r\n  \r\n  return (\r\n    <>\r\n    {filtro.length === 0 ?\r\n        <div className=\"cajaSpinner\">\r\n          <div className=\"cajitaSpinner\">\r\n            <Spinner className=\"spinner\" />\r\n          </div>\r\n        </div>\r\n        :\r\n    <section className=\"chapter\">\r\n      <div className=\"imag-form-chapter\"></div>\r\n      <div className=\"frase-form\">\r\n        <div className=\"frase-chapter\">\r\n          <h4>« ¡Atrapá al lector desde la primera página y lográ que tu historia este entre las más populares! »</h4>\r\n        </div>\r\n        <div className=\"container-form-chapter\">\r\n          <div className='capitulo' style={{display:'flex',flexDirection:'column',alignItems:'center',marginTop:'2vh'}}>\r\n            <h3>{newChapter ? 'Agregar el nombre de tu nuevo capítulo' : 'Modificar título del capítulo'}</h3>\r\n            <div className=\"line\">\r\n              <input className=\"input-chapter\" type=\"text\" name=\"title\" id=\"title\" disabled={continuar && true} placeholder=\"Capitulo\" value={title} onChange={(e)=>setTitle(e.target.value)} />\r\n            </div>\r\n            {!continuar && <button className=\"buttonNewChapter\" onClick={sendTitle}>Listo!</button>}\r\n          </div>\r\n          {continuar && \r\n          <>\r\n          <div className=\"form-chapter\">\r\n          {filtro[0].chapters[indexPage].chapter.map(content=><Content bookId={id} chapterId={chapterId} content={content} />)}\r\n          </div>\r\n          <div style={{display:'flex', width:'46vw', justifyContent:'center', marginBottom:'10vh'}}>\r\n              <Link to={`/modify-book/${id}`} id={id}><button className=\"buttonNewChapter\"><span>Volver</span></button></Link>\r\n          </div>\r\n          <p style={{fontSize:'2.2vh'}}> * Cada vez que aprietes la tecla \"Enter\" se crea un nuevo párrafo.</p>\r\n          <p style={{fontSize:'2.2vh'}}>* Añades el capitulo a tu libro y sigues escribiendo!</p>\r\n          <p style={{marginBottom:'3vh', fontSize:'2.2vh'}}> * Al hacer click en \"Finalizar\" tu libro se da por terminado y puedes agregarle foto de portada!</p></>}\r\n        </div>\r\n      </div>\r\n    </section>}\r\n    </>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loggedUser: state.auth.loggedUser,\r\n    books: state.bookR.books\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  modifyChapterTitle: bookActions.modifyChapterTitle,\r\n  sendContent: bookActions.sendContent,\r\n  getBooks: bookActions.getBooks,\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModifyChapter)","import React, { useState } from 'react'\r\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport './styles/styles.css'\r\nimport Search from './components/Search'\r\nimport Header from \"./components/Header\"\r\nimport Home from \"./components/Home\"\r\nimport Footer from \"./components/Footer\"\r\nimport Register from \"./components/Register\"\r\nimport SignIn from \"./components/SignIn\"\r\nimport Stories from './components/Stories'\r\nimport NewChapter from './components/NewChapter'\r\nimport NewBook from './components/NewBook'\r\nimport Settings from './components/Settings'\r\nimport StoryBook from './components/StoryBook'\r\nimport StoryDescription from './components/StoryDescription'\r\nimport authActions from './redux/actions/authActions'\r\nimport UserProfile from './components/UserProfile'\r\nimport FinishBook from './components/FinishBook'\r\nimport ModifyBook from './components/ModifyBook'\r\nimport ForgotPassword from './components/ForgotPassword'\r\nimport SendEmail from './components/SendEmail'\r\nimport MyBooks from './components/MyBooks'\r\nimport ModifyChapter from './components/ModifyChapter'\r\n\r\nconst App = (props) => {\r\n  const [reload, setReload] = useState(false)\r\n\r\n  if (props.loggedUser) {\r\n    var routes =\r\n      <>\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Home} />\r\n          <Route exact path=\"/search\" component={Search} />\r\n          <Route path=\"/add-book\" component={NewBook} />\r\n          <Route path=\"/stories/:genre\" component={Stories} />\r\n          <Route path=\"/story/:id\" component={StoryDescription} />\r\n          <Route path=\"/settings\" component={Settings} />\r\n          <Route path=\"/book/:id/:chapter/:index\" component={StoryBook}/>\r\n          <Route path=\"/new-book/:id\" component={NewChapter}/>\r\n          <Route path='/userprofile' component={UserProfile}/>\r\n          <Route path='/finish-book/:id' component={FinishBook}/>\r\n          <Route path='/modify-book/:id/image' component={FinishBook}/>\r\n          <Route path='/modify-book/:id/:chapterId/:index' component={ModifyChapter}/>\r\n          <Route path='/modify-book/:id' component={ModifyBook}/>\r\n          <Route path='/reset-password/:email' component={ForgotPassword}/>\r\n          <Route path='/myBooks' component={MyBooks}/>\r\n          <Redirect to=\"/search\" />\r\n        </Switch>\r\n      </>\r\n  } else if (localStorage.getItem('token')) {\r\n    props.logFromLS(localStorage.getItem('token'))\r\n    .then(response=> {\r\n      response && setReload(!reload)\r\n    })\r\n  }else{\r\n    routes = \r\n    <>\r\n    <Switch>\r\n      <Route exact path=\"/\" component={Home} />\r\n      <Route exact path=\"/search\" component={Search}/>\r\n      <Route path=\"/register\" component={Register}/>\r\n      <Route path=\"/signin\" component={SignIn}/>\r\n      <Route path=\"/stories/:genre\" component={Stories}/>\r\n      <Route path=\"/story/:id\" component={StoryDescription}/>\r\n      <Route path=\"/book/:id/:chapter/:index\" component={StoryBook}/>\r\n      <Route path='/send-email' component={SendEmail}/>\r\n      <Route path='/reset-password/:email' component={ForgotPassword}/>\r\n      <Redirect to=\"/\"/>\r\n    </Switch>\r\n    </>\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <BrowserRouter>\r\n        <Header />\r\n        {routes}\r\n        <Footer />\r\n      </BrowserRouter>\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    loggedUser: state.auth.loggedUser\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  logFromLS: authActions.logFromLS\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\r\n","\r\nconst initialState = {\r\n  books: [],\r\n  newBook: [],\r\n  filter: [],\r\n  comment: [],\r\n  booksByGenre: [],\r\n  vote: {}\r\n}\r\n\r\nconst bookReducers = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'ADD_BOOK':\r\n      return {\r\n        ...state,\r\n        newBook: action.payload\r\n      }\r\n    case 'CHAPTER_CONTENT':\r\n      return {\r\n        ...state,\r\n        newBook:action.payload\r\n      }\r\n    case 'GET_NEW_BOOK':\r\n      return{\r\n        ...state,\r\n        newBook: action.payload\r\n      }\r\n    case 'GET_BOOKS':\r\n      return {\r\n        ...state,\r\n        books: action.payload,\r\n        filter: action.payload,\r\n        comment: state.books.map(book => book._id === action.payload._id ? action.payload : book)\r\n      }\r\n    case 'GET_BY_GENRE':\r\n      return{\r\n        ...state,\r\n        booksByGenre: action.payload\r\n      }  \r\n    case 'SEARCH_BOOKS':\r\n    \treturn {\r\n        \t...state,\r\n        \tfilter: state.books.filter(book => book.title.toUpperCase().includes(action.payload.toUpperCase().trim())\r\n          || book.genre.toUpperCase().includes(action.payload.toUpperCase().trim())  \r\n        \t|| book.user.firstname.toUpperCase().includes(action.payload.toUpperCase().trim()) \r\n        \t|| book.user.lastname.toUpperCase().includes(action.payload.toUpperCase().trim()))\r\n      }\r\n      case 'ADD_COMMENTS':\r\n          return{\r\n              ...state,\r\n              comment: action.payload\r\n          }\r\n      case 'DELETE_COMMENT':\r\n          return {\r\n              ...state,\r\n              comment: action.payload\r\n          }\r\n      default:\r\n      return state\r\n\t}\r\n}\r\n\r\nexport default bookReducers","const initialState = {\r\n    loggedUser: null\r\n}\r\n\r\nconst authReducers = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'LOG_USER': //para cuando el usuario va a crear una cuenta o a loguearse\r\n        localStorage.setItem('token', action.payload.response.token)\r\n            return {\r\n                ...state,\r\n                loggedUser:action.payload.response\r\n            }\r\n        case 'LOG_OUT_USER' :\r\n            localStorage.clear()\r\n            return {\r\n                ...state,\r\n                loggedUser: null\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default authReducers","//Inicialize the state\r\nconst initialState = {\r\n    genres: []\r\n}\r\n\r\nconst cardReducer =  (state = initialState, action) => {\r\n    switch(action.type){\r\n        case 'GET_CARDS_GENRES':{\r\n            return{\r\n                genres: action.payload\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default cardReducer","import { combineReducers } from \"redux\"\r\nimport bookReducers from './bookReducers'\r\nimport authReducers from './authReducer'\r\nimport cardReducer from './cardReducer'\r\n\r\nconst rootReducer = combineReducers({\r\n  bookR: bookReducers,\r\n  auth: authReducers,\r\n  cardR: cardReducer\r\n})\r\n\r\nexport default rootReducer","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport {applyMiddleware, createStore} from 'redux'\r\nimport {Provider} from 'react-redux'\r\nimport rootReducer from './redux/reducers/rootReducer'\r\nimport thunk from 'redux-thunk'\r\n\r\n\r\n\r\n\r\nconst store = createStore (rootReducer, applyMiddleware(thunk))\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App/>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n)\r\n\r\n\r\n"],"sourceRoot":""}