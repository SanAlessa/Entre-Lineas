{"version":3,"sources":["components/CardCategory.js","Api.js","redux/actions/bookActions.js","redux/actions/cardActions.js","components/Story.js","components/Search.js","redux/actions/authActions.js","components/Header.js","components/FirstSection.js","components/SecondSection.js","components/ThirdSection.js","components/FourthSection.js","components/Home.js","components/Footer.js","components/Register.js","components/SignIn.js","components/Stories.js","components/NewChapter.js","components/NewBook.js","components/Settings.js","components/StoryBook.js","components/Comment.js","components/StoryDescription.js","components/MyBooks.js","components/UserProfile.js","components/FinishBook.js","components/ModifyBook.js","components/ForgotPassword.js","components/SendEmail.js","components/Content.js","components/ModifyChapter.js","App.js","redux/reducers/bookReducers.js","redux/reducers/authReducer.js","redux/reducers/cardReducer.js","redux/reducers/rootReducer.js","index.js"],"names":["CardCategory","props","to","cardCategory","genre","className","style","backgroundImage","image","API","bookActions","addBook","formData","token","dispatch","getState","a","axios","post","headers","Authorization","response","type","payload","data","Swal","fire","icon","title","text","addImage","put","getBooks","fetch","json","showConfirmButton","timer","getByGenre","searchBooks","value","error","addChapter","id","sendContent","content","modifyChapterTitle","chapterId","console","log","modifyContent","updatedContent","contentId","bookId","deleteContent","deleteBook","addComment","res","respuesta","deleteComment","idcomment","modComment","vote","dismissVote","incViews","cardActions","getCardsCategories","get","responseCategories","mapDispatchToProps","connect","libro","user","firstname","lastname","views","stars","length","chapters","description","substr","_id","onClick","search","state","loggedUser","auth","books","bookR","filter","genres","cardR","useState","setValue","useEffect","placeholder","onChange","e","target","map","index","book","authActions","makeNewUser","usuario","success","logInUser","modifyUser","logFromLS","status","localStorage","clear","resetPassword","email","newPassword","password","logOutUser","logout","cardsCategories","visible","setVisible","i","toUpperCase","color","FirstSection","SecondSection","ThirdSection","FourthSection","Home","Footer","href","birthday","setUsuario","readInput","valor","campo","name","checkIfInputsAreEmpty","alertError","alertSuccess","validateUser","preventDefault","errores","message","responseGoogle","profileObj","givenName","familyName","googleId","imageUrl","min","max","display","alignItems","clientId","buttonText","onSuccess","onFailure","cookiePolicy","height","width","userLogueado","setUserLogueado","mensaje","booksByGenre","namePage","match","params","boolean","setBoolean","loaded","setLoaded","sort","b","htmlFor","Spinner","setTitle","setContent","chapter","setChapter","continuar","setContinuar","sendTitle","keyPress","key","send","flexDirection","marginTop","disabled","resize","cols","rows","onKeyPress","justifyContent","marginBottom","fontSize","newBook","setBook","prop","files","history","push","FormData","append","trim","defaultValue","change","setChange","setUser","fileUrl","setFileUrl","pathImage","setPathImage","cursor","for","class","file","includes","reader","FileReader","readAsDataURL","onload","result","some","boxShadow","filtro","indexPage","parseInt","window","scrollTo","parrafo","deleteComments","input","setInput","setLoggedUser","deleteC","comment","modiComment","userPic","src","alt","firstName","Input","Button","userId","comments","reload","setReload","voted","setVoted","enviar","votes","pop","alert","logOut","myBooks","booksLiked","textAlign","url","imagen","document","getElementById","foto","URL","createObjectURL","processImage","backgroundColor","marginLeft","changePassword","setEmail","setErrores","details","setUpdatedContent","newChapter","routes","exact","path","component","Search","NewBook","Stories","StoryDescription","Settings","StoryBook","NewChapter","UserProfile","FinishBook","ModifyChapter","ModifyBook","ForgotPassword","MyBooks","getItem","then","Register","SignIn","SendEmail","initialState","bookReducers","action","authReducers","setItem","cardReducer","rootReducer","combineReducers","store","createStore","applyMiddleware","thunk","ReactDOM","render"],"mappings":"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","file":"static/js/main.2d1ba087.chunk.js","sourcesContent":["import { Link } from 'react-router-dom'\r\n\r\nconst CardCategory = (props) => {\r\n  return (\r\n    <>\r\n      <Link to={`/stories/${props.cardCategory.genre}`}>\r\n        <div className='cardCategory'>\r\n          <div className='nameCategory'>\r\n            {props.cardCategory.genre}\r\n          </div>\r\n          <div className='containerLogoCategory'>\r\n            <div className='logoCategory' style={{ backgroundImage: `url(${props.cardCategory.image})`}}>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n    </>\r\n  )\r\n}\r\nexport default (CardCategory);\r\n","// export const API = 'http://localhost:4000/api/'\r\nexport const API = 'https://entrelineas.herokuapp.com/api/'","import axios from 'axios'\r\nimport Swal from'sweetalert2';\r\nimport {API} from '../../Api'\r\n\r\nconst bookActions = {\r\n\r\n  addBook: (formData, token) => {\r\n    return async (dispatch, getState) => {\r\n      try {\r\n        const response = await axios.post(`${API}book`, formData, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`\r\n          }\r\n        });\r\n\r\n        dispatch({type: 'ADD_BOOK', payload:response.data.response});\r\n\r\n      } catch(error) {\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Error!',\r\n          text: \"No se pudo crear el libro.\",\r\n          text: \"Por favor intente mas tarde.\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n        })\r\n      }\r\n    }\r\n  },\r\n\r\n  addImage: (formData, token) => {\r\n    return async (dispatch, getState) => {\r\n      try {\r\n        const response = await axios.put(`${API}book`, formData, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`\r\n          }\r\n        })\r\n        dispatch({type: 'ADD_BOOK', payload:response.data.response})\r\n      }catch(error){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Error!',\r\n          text: \"No se pudo cargar la imagen.\",\r\n          text: \"Por favor intente mas tarde.\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n          })}\r\n    }\r\n  },\r\n\r\n  getBooks: () => {\r\n    return async (dispatch, getState) => {\r\n      try {\r\n\t\t\t\tconst response = await fetch(`${API}book`)\r\n\t\t\t\tconst data = await response.json()\r\n\t\t\t\tdispatch({type: 'GET_BOOKS', payload: data.response})\r\n\t\t\t}catch(error){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Error!',\r\n          text: \"Algo salio mal. intente mas tarde.\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n          })}\r\n      }\r\n  },\r\n\r\n  getByGenre: (genre)=>{\r\n    return async(dispatch, getState) =>{\r\n      try {\r\n        const response = await fetch(`${API}book/`+genre)\r\n        const data = await response.json()\r\n        dispatch({type: 'GET_BY_GENRE', payload: data.response})\r\n      }catch(error){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Error!',\r\n          text: \"No se pudo cargar la imagen.\",\r\n          text: \"Por favor intente mas tarde.\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n          })}\r\n    }\r\n  },\r\n\r\n  searchBooks: (value) => {\r\n    return (dispatch, getState) => {\r\n      try {\r\n        dispatch({type: 'SEARCH_BOOKS', payload: value})\r\n      }catch(error){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Error!',\r\n          text: \"Algo salio mal. intente mas tarde.\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n          })}\r\n    }\r\n  },\r\n\r\n  addChapter: (title, id, token) => {\r\n    return async (dispatch) => {\r\n      try {\r\n        const response = await axios.post(`${API}book/addChapter`, {title, id}, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`\r\n          }\r\n        })\r\n        dispatch({type: 'ADD_CHAPTER', payload: response.data.response})\r\n      }catch(error){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Error!',\r\n          text: \"Algo salio mal. intente mas tarde.\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n          })\r\n      }\r\n    }\r\n  },\r\n\r\n  sendContent: (content, title, id, token) => {\r\n    return async (dispatch) => {\r\n      try {\r\n        const response = await axios.put(`${API}book/addChapter`, {content, title, id}, {\r\n          headers: {\r\n            Authorization : `Bearer ${token}`\r\n          }\r\n        })\r\n        dispatch({type: 'CHAPTER_CONTENT', payload: response.data.response})\r\n      }catch(error){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Error!',\r\n          text: \"Algo salio mal. intente mas tarde.\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n          })\r\n      }\r\n    }\r\n  },\r\n\r\n  modifyChapterTitle:(title, id, chapterId, token) =>{\r\n    return async(dispatch) => {\r\n      try {\r\n        const response = await axios.post(`${API}book/modifyChapterTitle`, {title, id, chapterId}, {\r\n          headers: {\r\n            Authorization : `Bearer ${token}`\r\n          }\r\n        })\r\n        console.log(response.data)\r\n      }catch(errpr){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Error!',\r\n          text: \"No se pudo guardar el capitulo.\",\r\n          text: \"Por favor intente mas tarde.\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n        })\r\n      }\r\n    }\r\n  },\r\n  modifyContent: (updatedContent, contentId, chapterId, bookId, token) => {\r\n    return async (dispatch, getState) => {\r\n      try {\r\n        const response = await axios.post(`${API}book/modifyChapter`, {updatedContent, contentId, chapterId, bookId}, {\r\n          headers: {\r\n            Authorization : `Bearer ${token}`\r\n          }\r\n        })\r\n        console.log(response.data)\r\n        dispatch({type: 'UPDATE_BOOK', payload: response.data.response})\r\n      }catch(error){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Error!',\r\n          text: \"No se pudo guardar el capitulo.\",\r\n          text: \"Por favor intente mas tarde.\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n          })}\r\n    }\r\n  },\r\n\r\n  deleteContent:(contentId, chapterId, bookId, token) => {\r\n    return async (dispatch, getState) => {\r\n      try {\r\n        const response = await axios.put(`${API}book/modifyChapter`, {contentId, chapterId, bookId}, {\r\n          headers: {\r\n            Authorization : `Bearer ${token}`\r\n          }\r\n        })\r\n        dispatch({type: 'UPDATE_BOOK', payload: response.data.response})\r\n      }catch(error){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Error!',\r\n          text: \"No se pudo guardar el capitulo.\",\r\n          text: \"Por favor intente mas tarde.\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n          })}\r\n    }\r\n  },\r\n  deleteBook:(id)=>{\r\n    console.log(id)\r\n    return async (dispatch)=>{\r\n      try {\r\n        const response = await axios.put(`${API}book/delete`, {id})\r\n      }catch(error){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Error!',\r\n          text: \"Algo salio mal. intente mas tarde.\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n        })}\r\n    }\r\n  },\r\n\r\n  addComment:(content, id, token) => {\r\n    return async (dispatch, getState) => {\r\n      try {\r\n        const res = await axios.post(`${API}comments/`, {content, id}, {\r\n          headers: {\r\n              Authorization: `Bearer ${token}` \r\n          }\r\n      })\r\n        dispatch({type: 'ADD_COMMENTS', payload: res.data.respuesta})\r\n      } catch(error){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Lo siento!',\r\n          text: \"No se pudo enviar el comentario\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n          })}\r\n    }\r\n  },\r\n\r\n  deleteComment: (id, idcomment, token) => {\r\n    return async(dispatch, getState) => {\r\n      try {\r\n        const res = await axios.put(`${API}comments/delete`, {id, idcomment}, {\r\n          headers: {\r\n              Authorization: `Bearer ${token}` \r\n          }\r\n      })\r\n        dispatch({type: 'DELETE_COMMENT', payload: res.data.respuesta})\r\n      } catch(error){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Lo siento!',\r\n          text: \"Algo salio mal.\",\r\n          text: \"No se pudo borrar el comentario, intente mas tarde.\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n          })}\r\n    }\r\n  },\r\n\r\n  modComment: (value, idcomment, id, token) => {\r\n    return async (dispatch, getState) => {\r\n      try{\r\n        const res = await axios.put(`${API}comments/`, {value, idcomment, id}, {\r\n          headers: {\r\n              Authorization: `Bearer ${token}` \r\n          }\r\n      })\r\n        dispatch({type: 'ADD_COMMENTS', payload: res.data.respuesta})\r\n      } catch(error){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Lo siento!',\r\n          text: \"Algo salio mal.\",\r\n          text: \"No se pudo editar el comentario, intente mas tarde.\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n          })}\r\n    }\r\n  },\r\n\r\n  vote:(id, token) => {\r\n    return async(dispatch, getState) => {\r\n      try {\r\n        const res = await axios.post(`${API}vote`, {id}, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}` \r\n          }\r\n        })\r\n        dispatch({type: 'VOTE', payload: res.data})\r\n      } catch(error){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Lo siento!',\r\n          text: \"No se puede votar en este momento, intente mas tarde.\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n          })}\r\n    }\r\n  },\r\n\r\n  dismissVote:(id, token) => {\r\n    return async(dispatch, getState) => {\r\n      try {\r\n        const res = await axios.post(`${API}dismissvote`, {id}, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}` \r\n          }\r\n        })\r\n        dispatch({type: 'DIS_VOTE', payload: res.data})\r\n      } catch(error){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Error!',\r\n          title: '¡Lo siento!',\r\n          text: \"No se puede sacar el voto en este momento, intente mas tarde.\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n          })}\r\n    }\r\n  },\r\n\r\n  incViews: (id) => {\r\n    return async (dispatch, getState) => {\r\n      try {\r\n        const response = await axios.post(`${API}views`, {id})\r\n        dispatch({type: 'VIEWS', payload: response.data})\r\n      }catch(error){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡Error!',\r\n          title: '¡Lo siento!',\r\n          text: \"Algo salio mal, intente mas tarde.\",\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n          })}\r\n    }\r\n  }\r\n}\r\n\r\nexport default bookActions","import axios from 'axios'\r\nimport Swal from'sweetalert2';\r\nimport {API} from '../../Api'\r\n\r\nconst cardActions = {\r\n    getCardsCategories: () => {\r\n        return async (dispatch, getState) => {\r\n            try{\r\n                const responseCategories = await axios.get(`${API}genre`)\r\n                dispatch(\r\n                    {\r\n                        type: 'GET_CARDS_GENRES',\r\n                        payload: responseCategories.data.response\r\n                    }\r\n                )\r\n            }catch(err){\r\n                Swal.fire({\r\n                    icon: 'error',\r\n                    title: '¡Error!',\r\n                    text: \"Algo salio mal. intente mas tarde.\",\r\n                    showConfirmButton: false,\r\n                    timer: 4000\r\n                })\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default cardActions","import { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport bookActions from '../redux/actions/bookActions'\r\nconst Story=(props)=>{\r\n    const views =()=>{\r\n        props.incViews(props.libro._id)\r\n    }\r\n    return(\r\n        \r\n        <div className='storyContainer'>\r\n                <div className='storyPic' style={{backgroundImage:`url(${props.libro.image})`}}></div>\r\n                <div className='storyBodyContainer'>\r\n                    <p className='storyTitle'>{props.libro.title}</p>\r\n                    <p className='storyUser'>de {props.libro.user.firstname + ' ' + props.libro.user.lastname}</p>\r\n                    <p className='storyGenre'>Genero: {props.libro.genre}</p>\r\n                    <div className='storyIcons'>\r\n                        <p className='storyViews'><i className=\"far fa-eye\"></i> {!props.libro.views ? props.libro.views = 0 : props.libro.views}</p>\r\n                        <p className='storyStars'><i className=\"far fa-star\"></i> {props.libro.stars.length}</p>\r\n                        <p className='storyChapters'><i className=\"fas fa-list-ul\"></i> {props.libro.chapters.length}</p>\r\n                    </div>\r\n                    <p className='storyDescription'>{props.libro.description.substr(0,120)+\"...\"}</p>\r\n                    <div className='storyButtons'>\r\n                        <Link to={`/story/${props.libro._id}`}><button onClick={views} className='btn btn-danger verMasStory'>Ver Mas</button></Link>\r\n                    </div>\r\n                </div>\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nconst mapDispatchToProps= {\r\n    incViews: bookActions.incViews\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Story)","import CardCategory from \"./CardCategory\"\r\nimport {connect} from \"react-redux\"\r\nimport {useEffect, useState} from \"react\"\r\nimport bookActions from \"../redux/actions/bookActions\"\r\nimport cardActions from '../redux/actions/cardActions'\r\nimport Story from './Story'\r\n\r\nconst Search = (props) => {\r\n    const [value, setValue] = useState(false)\r\n        \r\n    useEffect( () => {\r\n        props.getBooks()\r\n    },[])\r\n\r\n    const searching = (e) => {\r\n        props.search(e.target.value)\r\n        setValue(true)\r\n        e.target.value === \"\" && setValue(false)\r\n    }\r\n\r\n    return(\r\n        <div className='containerComponentSearchStories'>\r\n            <div className='containerSearchBar'>\r\n                <input type='text' className='inputSearchStories' placeholder='¿Qué vas a leer hoy?' onChange={searching}></input>\r\n                <div className='iconSearchStories'><i className=\"fas fa-search\"></i></div>\r\n            </div>\r\n            {value === false ? \r\n            <>\r\n            <div className='containerTitleSearch'>\r\n                <h1>Explorá las categorías<span>&#160;</span></h1>\r\n            </div>\r\n            <div className='containerViewCardsCategories'>\r\n                {props.genres.map((cardCategory, index) => {\r\n                    return <CardCategory cardCategory={cardCategory} key={index}/>\r\n                })}\r\n            </div>\r\n            </> \r\n            : \r\n            <>\r\n            <h2>Su busqueda</h2>\r\n            <div className=\"resultBusqueda\">\r\n            {props.filter.map((book, index) =>\r\n            \r\n                <Story libro={book} key={index}/>\r\n            )}\r\n            </div>\r\n            </>}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loggedUser: state.auth.loggedUser,\r\n        books: state.bookR.books,\r\n        filter: state.bookR.filter,\r\n        genres: state.cardR.genres,\r\n    }\r\n}   \r\n\r\nconst mapDispatchToProps = {\r\n    getBooks: bookActions.getBooks,\r\n    search: bookActions.searchBooks\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Search);","import axios from 'axios'\r\nimport Swal from'sweetalert2';\r\nimport {API} from '../../Api'\r\n\r\nconst authActions = {\r\n    makeNewUser: (usuario) => {\r\n        return async (dispatch) => {\r\n            try {\r\n                const respuesta = await axios.post(`${API}user/signup`, usuario)///esto viaja al backend, va a router, busca la ruta\r\n                if(!respuesta.data.success){\r\n                    return respuesta.data\r\n                } \r\n                dispatch({type: 'LOG_USER', payload: respuesta.data})//lo que me contesto el backend se lo mando al reducer\r\n            }catch(errores){\r\n                Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Ups!',\r\n                    text: \"Algo salio mal, intenta nuevamente!\",\r\n                    showConfirmButton: false,\r\n                    timer: 4000\r\n                    })\r\n            }\r\n        }\r\n    },\r\n\r\n    logInUser: user => {\r\n        return async (dispatch) => {\r\n            const respuesta = await axios.post(`${API}user/signin`,user)\r\n            if(!respuesta.data.success) return respuesta.data;\r\n            dispatch({type: 'LOG_USER', payload: respuesta.data})\r\n        }\r\n    },\r\n\r\n    modifyUser: (formData) => {\r\n        return async (dispatch, getState) => {\r\n            const response = await axios.post(`${API}settings`, formData, {\r\n                headers: { \r\n                    'Content-Type': 'multipart/form-data' \r\n                }\r\n            })\r\n            dispatch({type: 'MODIFY_USER', payload: response.data})\r\n        }\r\n    },\r\n    logFromLS: (token) => {\r\n        return async (dispatch, getState) => {\r\n            try{\r\n                const response = await axios.post(`${API}user/ls/`, {token}, {\r\n                \r\n                    headers: {\r\n                        Authorization: `Bearer ${token}`\r\n                       \r\n                    }\r\n                })\r\n                dispatch({type: 'LOG_USER', payload: response.data})\r\n                \r\n            }catch(error){\r\n                if(error.response.status === 401) {\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: '¡CUIDADO!',\r\n                        text: \"No tienes permitido ingresar a la web\",\r\n                        showConfirmButton: false,\r\n                        timer: 4000\r\n                        })\r\n                    localStorage.clear()\r\n                    return true\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    resetPassword: (email)=> {\r\n        return async (dispatch) => {\r\n            try{\r\n                const response = await axios.post(`${API}user/reset-password`, {email})\r\n                dispatch({type: 'RESET_PASSWORD'})\r\n            }catch(error){\r\n                Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Ups!',\r\n                    text: \"Algo salio mal, intenta nuevamente!\",\r\n                    showConfirmButton: false,\r\n                    timer: 4000\r\n                    })\r\n            }\r\n        }\r\n    },\r\n\r\n    newPassword: (email, password) => {\r\n        return async(dispatch) => {\r\n            try{\r\n                const response = await axios.put(`${API}user/reset-password`, {email, password})\r\n                dispatch({type: 'CHANGE_PASSWORD'})\r\n            }catch(error){\r\n                Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Ups!',\r\n                    text: \"Algo salio mal, intenta nuevamente!\",\r\n                    showConfirmButton: false,\r\n                    timer: 4000\r\n                    })\r\n            }\r\n        }\r\n    },\r\n\r\n    logOutUser: () => { //se usa en el header\r\n        return async (dispatch) => {\r\n            dispatch({type:'LOG_OUT_USER'})\r\n        }\r\n    },\r\n\r\n}\r\nexport default authActions","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport authActions from '../redux/actions/authActions'\r\nimport bookActions from '../redux/actions/bookActions'\r\nimport cardActions from '../redux/actions/cardActions'\r\nimport {useState, useEffect } from 'react'\r\n\r\nconst Header = (props) => {\r\n  const [visible, setVisible] = useState(false)\r\n\r\n  useEffect(() => {\r\n    props.getBooks()\r\n    props.getCardsCategories()\r\n  }, [])\r\n\r\n  return (\r\n    <header>\r\n      <div className=\"headerLeft\">\r\n      <Link to=\"/\"><div className=\"prueba\"></div></Link>{/* <Link to=\"/\"><img src={'../assets/Logo-EntreLineas-Pluma-inclinada.png'} style={{marginLeft: '-8vw'}} className=\"logo\" alt='logo Entre Líneas'></img></Link> */}\r\n        <div className=\"dropdown\">\r\n          <p>Navegar</p>\r\n          <div className=\"dropdown-content\">\r\n            <div className=\"genres\">\r\n              {props.genres.map((genre, i) => <Link to={`/stories/${genre.genre}`} key={\"linkGenre\"+i}><p className=\"genre\">{genre.genre}</p></Link>)}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Link to=\"/search\"><div className=\"toSearch\">\r\n        <i className=\"fas fa-search\"></i>\r\n        <p>Buscar</p>\r\n      </div></Link>\r\n      {props.loggedUser && !props.loggedUser.image ?\r\n        <div className=\"headerRight\">\r\n          <p>Hola! {(props.loggedUser.firstname).toUpperCase()}</p>\r\n          <div className='containerDrop' onClick={() => setVisible(!visible)}>\r\n            {visible &&\r\n              <div className='dropDownMenu'>\r\n                <ul>\r\n                  <Link to='/userprofile'><li>Mi Perfil</li></Link>\r\n                  <Link to='/add-book'><li>Crear un Nuevo Libro</li></Link>\r\n                  <Link to='/settings'><li>Configuración</li></Link>\r\n                  <Link to='/' onClick={props.logout}><li>Cerrar mi Sesión</li></Link>\r\n                </ul>\r\n              </div>\r\n            }\r\n            <div className=\"dropDownPic\">{props.loggedUser.firstname.toUpperCase().substr(0, 1)}\r\n            </div>\r\n            <i style={{color: 'black'}} className=\"fas fa-caret-down\" ></i>\r\n          </div>\r\n        </div>\r\n        : props.loggedUser && props.loggedUser.image\r\n        ?<>\r\n        <div className=\"headerRight\" >\r\n          <p>Hola! {(props.loggedUser.firstname).toUpperCase()}</p>\r\n          <div className='containerDrop' onClick={() => setVisible(!visible)}>\r\n            {visible &&\r\n              <div className='dropDownMenu'>\r\n                <ul>\r\n                  <Link to='/userprofile'><li>Mi Perfil</li></Link>\r\n                  <Link to='/add-book'><li>Crear un Nuevo Libro</li></Link>\r\n                  <Link to='/settings'><li>Configuración</li></Link>\r\n                  <Link to='/' onClick={props.logout}><li>Cerrar mi Sesión</li></Link>\r\n                </ul>\r\n              </div>\r\n            }\r\n            <div className=\"dropDownPic\" style={{backgroundImage: `url('${props.loggedUser.image}')`}}></div>\r\n            <i style={{color: 'black'}} className=\"fas fa-caret-down\" ></i>\r\n          </div>\r\n        </div>\r\n        </>\r\n        :\r\n        <div className=\"headerRight\">\r\n        <Link to=\"/signin\"><p>Iniciar sesión</p></Link>\r\n        <Link to=\"/register\"><p>Regístrate</p></Link>\r\n        </div>\r\n      }\r\n    </header>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    loggedUser: state.auth.loggedUser,\r\n    genres: state.cardR.genres,\r\n    cardsCategories: state.cardR.cardsCategories,\r\n    books: state.bookR.books\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  logout: authActions.logOutUser,\r\n  getBooks: bookActions.getBooks,\r\n  getCardsCategories: cardActions.getCardsCategories\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header)\r\n\r\n\r\n/**/","import {Link} from 'react-router-dom'\r\n\r\nconst FirstSection = ()=>{\r\n    return (\r\n        <div className=\"firstSection\">\r\n            <div className=\"leftBoxFirst\">\r\n                <h1 className=\"titleFirst\">Hola, somos Entre Líneas.</h1>\r\n                <p className=\"firstP\">La plataforma del mundo social basada en narrativa más amada en el mundo</p>\r\n                <p className=\"secondP\">Entre Lineas conecta una comunidad global de 90 millones de lectores y escritores a través del poder de las historias.</p>\r\n                <div className=\"buttonBox\">\r\n                <Link to='/search'><button className=\"btn btn-danger\">Comienza a leer</button></Link>\r\n                <Link to='/signin'><button className=\"btn btn-danger boton2\" >Comienza a escribir</button></Link>\r\n                </div>\r\n            </div>\r\n            <div className=\"rightBoxFirst\"></div>\r\n        </div>\r\n    )\r\n}\r\nexport default FirstSection","const SecondSection = ()=>{\r\n    return (\r\n        <>\r\n        <div className=\"secondSection\">\r\n            <div className=\"upBoxSecond\">\r\n                <div className=\"firstUp\">\r\n                    <p>Ver tu historia...</p>\r\n                </div>\r\n                <div className=\"secondUp\">\r\n                    <div className='verContainer'>\r\n                        <i className=\"fas fa-tv\"></i>\r\n                        <p>Consigue que tu historia se produzca como una película</p>\r\n                    </div>\r\n                    <div className='verContainer'>\r\n                        <i className=\"fas fa-film\"></i>\r\n                        <p className=\"block\">Consigue que tu historia se adapte como Serie de Televisión</p>\r\n                    </div>\r\n                    <div className='verContainer'>\r\n                        <i className=\"fas fa-book\"></i>\r\n                        <p>Conviértete en un autor publicado</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className='downBoxSecond'>\r\n                <div className=\"imgBoxSecond\"></div>\r\n                <div className='textRightSecondBox'>\r\n                    <p className='firstTextRightSecond'>Tu historia original puede ser un nuevo y grandioso éxito</p>\r\n                    <p className='secondTextRightSecond'>Entre Lineas Studios descubre nuevos talentos entre los escritores y los conecta a compañías globales de multimedia, tales como:</p>\r\n                    <div className='svgContainer'>\r\n                        <div className='sony'></div>\r\n                        <div className='hulu'></div>\r\n                        <div className='syfy'></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\nexport default SecondSection","const  ThirdSection = ()=>{\r\n    return (\r\n        <>\r\n            <div className='thirdSection'>\r\n                <div className=\"upContainerThird\">\r\n                    <div className=\"firstContainerUpThird\">\r\n                        <p className='titleThirdSec'>¿Cómo funciona Entre Lineas?</p>\r\n                        <p className='subTitleThirdSec'>Permite que tu historia se ha descubierto a través del poder de comunidad y tecnología en Entre Lineas.</p>\r\n                    </div>\r\n                    <div className='secondContainerUpThird'>\r\n                        <div className='infoSecondContainerThird'>\r\n                            <div className='numberSecondContThird'>\r\n                                <p>1</p>\r\n                            </div>\r\n                            <div className='textSecondContThird'>\r\n                                <p className='titleTextSecContTh'>Crea</p>\r\n                                <p className='bodyTxtSecContTh'>Comparte tu voz única e historia original en Entre Lineas. Encuentra los recursos de escritura que necesitas para elaborar una historia.</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className='infoSecondContainerThird'>\r\n                            <div className='numberSecondContThird'>\r\n                                <p>2</p>\r\n                            </div>\r\n                            <div className='textSecondContThird'>\r\n                                <p className='titleTextSecContTh'>Construye</p>\r\n                                <p className='bodyTxtSecContTh'>Establece una base global de fans mientras tu historia gana lectores y notoriedad. Conecta con otros escritores afines a través del arte de la narrativa.</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className='infoSecondContainerThird'>\r\n                            <div className='numberSecondContThird'>\r\n                                <p>3</p>\r\n                            </div>\r\n                            <div className='textSecondContThird'>\r\n                                <p className='titleTextSecContTh'>Amplía</p>\r\n                                <p className='bodyTxtSecContTh'>¡Obtén el estatus de estrella de Entre Lineass y tu historia publicada o adaptada en cine o televisión con Entre Lineas Studios</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className='imgThirdSec'>\r\n                    <div className='resources'>\r\n                        <p>50+\r\n                        Recursos para la escritura</p>\r\n                    </div>\r\n                    <div className='readers'>\r\n                        <p>90 millones de Lectores</p>\r\n                    </div>\r\n                    <div className='offers'>\r\n                        <p>1000 +\r\n                        Ofrecimientos para la historia</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n           \r\n        </>\r\n    )\r\n}\r\nexport default ThirdSection","import {Link} from 'react-router-dom'\r\n\r\nconst FourthSection = ()=>{\r\n    return (\r\n        <div className='fourthSection'>\r\n            <div className='upContainerFourth'>\r\n                <div className='fourthSecText'>\r\n                    <p className='fourthTitle'>Lleva Entre Líneas Contigo</p>\r\n                    <p className='fourthBody'>Lee y escribe en cualquier parte, incluso sin conexión.</p>\r\n                </div>\r\n                <div className='fourthSecButtons'>\r\n                <Link to='/search'><button className=\"btn btn-danger\">Comienza a leer</button></Link>\r\n                <Link to='/signin'><button className=\"btn btn-danger boton2\" >Comienza a escribir</button></Link>\r\n                </div>\r\n            </div>\r\n            <div className='fourthSecBack'>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default FourthSection","import FirstSection from './FirstSection'\r\nimport SecondSection from './SecondSection'\r\nimport ThirdSection from './ThirdSection'\r\nimport FourthSection from './FourthSection'\r\n\r\nconst Home = () => {\r\n  return (\r\n    <>\r\n      <div className=\"backgroundZindex\"></div>\r\n      <div className=\"sectionBox \">\r\n        <FirstSection />\r\n        <SecondSection />\r\n        <ThirdSection />\r\n        <FourthSection />\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Home;","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer>\r\n      <div className=\"footerLeft\">\r\n      <Link to=\"/\"><div className=\"prueba\"></div></Link>{/* <Link to=\"/\"><img src={'../assets/Logo-EntreLineas-Pluma-inclinada.png'} className=\"logo\" alt='logo Entre Líneas'></img></Link> */}\r\n      </div>\r\n      <div className=\"footerRight\">\r\n        <p>© 2020 Entre Líneas.</p>\r\n        <div className=\"socialNetworks\">\r\n          <a href=\"https://www.facebook.com/\">\r\n            <i className=\"fab fa-facebook-f\" style={{ color: \"#3b5998\" }}></i>\r\n          </a>\r\n          <a href=\"https://twitter.com/\">\r\n            <i className=\"fab fa-twitter\" style={{ color: \"#00acee\" }}></i>\r\n          </a>\r\n          <a href=\"https://www.instagram.com/\">\r\n            <i className=\"fab fa-instagram\" style={{ color: \"black\" }}></i>\r\n          </a>\r\n          <a href=\"https://www.youtube.com/\">\r\n            <i className=\"fab fa-youtube\" style={{ color: \"#c4302b\" }}></i>\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer","import React, {useState} from 'react'\r\nimport { connect } from 'react-redux'\r\nimport authActions from '../redux/actions/authActions'\r\nimport GoogleLogin from 'react-google-login'\r\nimport Swal from'sweetalert2';\r\n\r\n\r\nconst Register = ( props ) => {\r\n\r\n    const [usuario, setUsuario] = useState({\r\n        firstname:'',lastname:'',birthday:'',email:'',password:'', image:''\r\n    })\r\n    const [visible, setVisible] = useState(false)\r\n\r\n    const readInput = e => { //receive the event\r\n        const valor = e.target.value // capture the value\r\n        const campo = e.target.name // capture the field\r\n\r\n        setUsuario ({ //modify the user I have in the useState\r\n            ...usuario,\r\n            [campo]:valor\r\n        });\r\n    }\r\n\r\n    const checkIfInputsAreEmpty = usuario.firstname === ''|| usuario.lastname  === ''|| usuario.birthday === ''|| usuario.email === ''|| usuario.password === '';\r\n\r\n    const alertError = (error) =>{\r\n        Swal.fire({\r\n            icon: 'error',\r\n            title: '¡CUIDADO!',\r\n            text: error,\r\n            showConfirmButton: false,\r\n            timer: 4000\r\n            })\r\n    }\r\n\r\n    const alertSuccess = () => {\r\n        Swal.fire({\r\n            icon: 'success',\r\n            title: 'Bienvenido',\r\n            text: '¡Segui disfrutando de tus libros favoritos!',\r\n            showConfirmButton: false,\r\n            timer: 4000\r\n          })\r\n        }\r\n\r\n    const validateUser = async e => { // function that runs when you click the create user button\r\n        e.preventDefault() //prevent reloading the page\r\n        if(checkIfInputsAreEmpty){\r\n            const text = 'Verifique que todos los campos esten llenos'\r\n            alertError(text)\r\n            return false\r\n        }\r\n\r\n        const respuesta = await props.makeNewUser(usuario)\r\n        if(respuesta && !respuesta.success){\r\n            respuesta.errores.map(respuesta=>alertError(respuesta.message))\r\n        }else{\r\n            alertSuccess()\r\n        }\r\n    }\r\n\r\n    const responseGoogle = async (response) => {\r\n        if(response.error){\r\n            const text = 'Algo salio mal con tu cuenta de Google, vuelve a intentar!'\r\n            alertError(text)\r\n        }else{\r\n            const respuesta = await props.makeNewUser({\r\n                firstname: response.profileObj.givenName,\r\n                lastname: response.profileObj.familyName,\r\n                email: response.profileObj.email,\r\n                password:response.profileObj.googleId,\r\n                image: response.profileObj.imageUrl\r\n            })\r\n        if(respuesta && !respuesta.success){\r\n            alertError(respuesta.error)\r\n        }else{\r\n            alertSuccess()\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nreturn (\r\n    <div className=\"containerRegister\">\r\n        <div className=\"imagRegister\"></div>\r\n            <div className=\"registerInput\" >\r\n                <div className= \"register\">\r\n                    <h2>Crear Usuario</h2>\r\n                    <div className=\"nameAndLastName\">\r\n                        <input className=\"inputRegister\" type=\"text\" name=\"firstname\" placeholder=\"Nombre\" onChange={readInput}/>\r\n                        <input className=\"inputRegister\" type=\"text\" name=\"lastname\" placeholder=\"Apellido\" onChange={readInput}/>\r\n                    </div>\r\n                    <input  className=\"inputRegister\" type=\"date\" min=\"1950-01-01\" max=\"2021-2-31\" name=\"birthday\" placeholder=\"fechas de nacimiento\" onChange={readInput}/>\r\n                    <div className=\"userNameAndPassword\">\r\n                        <input className=\"inputRegister\" type=\"text\" name=\"email\" placeholder=\"Email\" onChange={readInput} />\r\n                        <div style={{display:'flex',alignItems:'center'}}>\r\n                            <input className=\"inputRegister\" type={visible ? \"text\" : \"password\"} name=\"password\" placeholder=\"Contraseña\" onChange={readInput} />\r\n                            <i className={visible ? \"far fa-eye-slash\" : \"far fa-eye\"} onClick={()=>setVisible(!visible)}></i>\r\n                        </div>\r\n                    </div>\r\n                    <p>*La contraseña debe contener al menos un número.</p>\r\n                    <button className=\"botonRegister\" onClick={validateUser} >Crear usuario</button>\r\n                        <GoogleLogin\r\n                            clientId=\"1038057212104-nnvs147cdmm0l23842rfofjg32aqll0s.apps.googleusercontent.com\"\r\n                            buttonText=\"Crear usuario con google\"\r\n                            onSuccess={responseGoogle}\r\n                            onFailure={responseGoogle}\r\n                            cookiePolicy={'single_host_origin'}\r\n                        />\r\n                </div>\r\n            </div>\r\n        <div style={{height:\"50vh\", width:\"60vw\"}}>\r\n        </div>\r\n    </div>\r\n        )\r\n    }\r\n\r\nconst mapDispatchToProps = { // map the actions\r\n    makeNewUser: authActions.makeNewUser //mapDispachToProps object that has an action value\r\n}\r\n\r\nexport default connect(null,mapDispatchToProps) (Register)\r\n","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport authActions from '../redux/actions/authActions'\r\nimport GoogleLogin from 'react-google-login'\r\nimport Swal from 'sweetalert2';\r\n\r\n\r\nconst SignIn = (props) => {\r\n\r\n    const [userLogueado, setUserLogueado] = useState({})\r\n    const [visible, setVisible] = useState(false)\r\n\r\n    const alertError = (error) => {\r\n        Swal.fire({\r\n            icon: 'error',\r\n            title: '¡CUIDADO!',\r\n            text: error,\r\n            showConfirmButton: false,\r\n            timer: 4000\r\n        })\r\n    }\r\n\r\n    const alertSuccess = () => {\r\n        Swal.fire({\r\n            icon: 'success',\r\n            title: 'Bienvenido',\r\n            text: '¡Segui disfrutando de tus libros favoritos!',\r\n            showConfirmButton: false,\r\n            timer: 4000\r\n        })\r\n    }\r\n\r\n    const readInput = e => { //receive the event\r\n        const valor = e.target.value // capture the value\r\n        const campo = e.target.name // capture the field\r\n        setUserLogueado({//modify the user I have in the useState\r\n            ...userLogueado,\r\n            [campo]: valor\r\n        })\r\n    }\r\n\r\n    const validateUser = async e => { // function that runs when you click the create user button\r\n        e.preventDefault() //prevent reloading the page\r\n        if (userLogueado.email === \"\" || userLogueado.password === \"\") {\r\n            const text = 'Verifique que todos los campos esten llenos'\r\n            alertError(text)\r\n            return false\r\n        }\r\n        const respuesta = await props.logInUser(userLogueado)\r\n        if (respuesta && !respuesta.success) {\r\n            alertError(respuesta.mensaje)\r\n        } else {\r\n            alertSuccess()\r\n        }\r\n    }\r\n\r\n    const responseGoogle = async (response) => {\r\n        if (response.error) {\r\n            const text = 'Algo salio mal con tu cuenta de Google, vuelve a intentar!'\r\n            alertError(text)\r\n        } else {\r\n            const respuesta = await props.logInUser({\r\n                email: response.profileObj.email,\r\n                password: response.profileObj.googleId\r\n            })\r\n            if (respuesta && !respuesta.success) {\r\n                alertError(respuesta.mensaje)\r\n            } else {\r\n                alertSuccess()\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"containerLogin\">\r\n            <div className=\"imagRegister\"></div>\r\n            <div className=\"registerInput\" >\r\n                <div className=\"login\">\r\n                    <h2>Iniciar Sesion</h2>\r\n                    <input className=\"inputRegister\" type=\"text\" name=\"email\" placeholder=\"Nombre de Usuario\" onChange={readInput} />\r\n                    <div className=\"a\">\r\n                        <input className=\"inputRegisterPassword\" type={visible ? \"text\" : \"password\"} name=\"password\" placeholder=\"Contraseña\" onChange={readInput} />\r\n                        <div className='ojito'><i className={visible ? \"far fa-eye-slash\" : \"far fa-eye\"} onClick={() => setVisible(!visible)}></i></div>\r\n                    </div>\r\n                    <button className=\"botonRegister\" onClick={validateUser} >Iniciar sesion</button>\r\n                    <GoogleLogin\r\n                        clientId=\"1038057212104-nnvs147cdmm0l23842rfofjg32aqll0s.apps.googleusercontent.com\"\r\n                        buttonText=\"Iniciar sesion con google\"\r\n                        onSuccess={responseGoogle}\r\n                        onFailure={responseGoogle}\r\n                        cookiePolicy={'single_host_origin'}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div style={{ height: \"50vh\", width: \"60vw\" }}>\r\n            </div>\r\n            <Link to=\"/send-email\"><h5>Olvidaste tu contraseña?</h5></Link>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst mapDispatchToProps = { // map the actions\r\n    logInUser: authActions.logInUser\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(SignIn)","import {connect} from 'react-redux'\r\nimport {useState,useEffect}from'react'\r\nimport bookActions from \"../redux/actions/bookActions\"\r\nimport Story from './Story'\r\nimport {Spinner} from 'reactstrap'\r\nconst Stories = (props)=>{\r\n    const namePage = props.match.params.genre\r\n    const [boolean,setBoolean]=useState(true)\r\n    const [loaded, setLoaded]=useState(false)\r\n    const [value, setValue] = useState('')\r\n    \r\n    useEffect(async()=>{\r\n        await props.getByGenre(namePage)\r\n        setLoaded(true)\r\n        props.booksByGenre.sort((a,b)=> b.views - a.views)\r\n    },[namePage])\r\n\r\n    if(value !== \"\") {\r\n        sortFilter()\r\n        setValue('mostPopular')\r\n        setBoolean(!boolean)\r\n        setValue(\"\")\r\n    }\r\n\r\n \r\n    function sortFilter() {\r\n        if(value ===\"mostPopular\"){\r\n            props.booksByGenre.sort((a,b)=> b.views - a.views)\r\n        }else if(value === \"lessPopular\"){\r\n            props.booksByGenre.sort((a,b)=> a.views - b.views)\r\n        }\r\n    }\r\n    return (\r\n        <>\r\n        {!loaded ? \r\n        <div className=\"cajaSpinner\">\r\n        <div className=\"cajitaSpinner\">\r\n          <Spinner  className=\"spinner\"/>\r\n        </div>\r\n      </div>\r\n        :\r\n        <div className='storiesContainer'>\r\n        <h1>Historias de <span className='capitalize'>{namePage}</span></h1>\r\n        <div className='boxStories'>\r\n            <div className='upContainerStories'>\r\n                <p className='storyNumber'>{props.booksByGenre.length} Historias</p>\r\n                <div className='boxInputStories'>\r\n                    <label htmlFor=\"popular\">Filtrar Por:</label>\r\n                    <select onChange={e => setValue(e.target.value)} name=\"popular\" id=\"cars\">\r\n                        <option value=\"mostPopular\">Mas Populares</option>\r\n                        <option value=\"lessPopular\">Menos Populares</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div className='downContainerStories'>\r\n                {props.booksByGenre.length === 0 ? \r\n                <div className='ops' style={{height:\"50vh\"}}>\r\n                    <h1>Aún no hay historias en esta sección, se el primero!</h1>\r\n                </div>:\r\n                boolean ? props.booksByGenre.map((libro, i)=>{\r\n                    return(\r\n                        <Story libro={libro} key={`story${i}`}/>\r\n                    )\r\n                }): props.booksByGenre.map((libro, i)=>{\r\n                    return(\r\n                        <Story libro={libro} key={`story${i}`}/>\r\n                    )\r\n                })}\r\n            </div>\r\n        </div>\r\n    </div>}\r\n        </>\r\n    )\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        books: state.bookR.books,\r\n        booksByGenre: state.bookR.booksByGenre\r\n    }\r\n  }\r\n\r\nconst mapDispatchToProps = {\r\n    getByGenre: bookActions.getByGenre,\r\n\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Stories);\r\n","import { connect } from \"react-redux\"\r\nimport { useState, useEffect } from \"react\"\r\nimport {Link} from \"react-router-dom\"\r\nimport bookActions from \"../redux/actions/bookActions\"\r\nimport Swal from \"sweetalert2\";\r\n\r\n\r\nconst NewChapter = (props) => {\r\n  const [title, setTitle] = useState('')\r\n  const [content, setContent] = useState('')\r\n  const [chapter, setChapter] = useState([])\r\n  const [continuar, setContinuar] = useState(false)\r\n  const id = props.match.params.id\r\n\r\n  const sendTitle=async ()=>{\r\n    setContinuar(!continuar)\r\n    props.addChapter(title, id, props.loggedUser.token)\r\n  }\r\n  \r\n  const keyPress=async (e)=>{\r\n    if(e.key==='Enter') {\r\n      setChapter([\r\n        ...chapter, content\r\n      ])\r\n      if(content.content===''){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: 'No puedes añadir un capitulo vacío!',\r\n          showConfirmButton: true,\r\n          timer: 2000\r\n        })\r\n      }\r\n      props.sendContent(content, title, id, props.loggedUser.token)\r\n      setContent('')\r\n      setContent({content:''})\r\n      e.preventDefault()\r\n      \r\n    }\r\n  }\r\n  console.log(content)\r\n  const send = async (e) => {\r\n    e.preventDefault()\r\n    setChapter('')\r\n    setTitle('')\r\n    setContinuar(!continuar)\r\n      Swal.fire({\r\n        icon: 'success',\r\n        title: 'Listo',\r\n        text: '¡Nuevo capitulo creado!',\r\n        showConfirmButton: true,\r\n        timer: 2000\r\n      })\r\n  }\r\n  return (\r\n    <section className=\"chapter\">\r\n      <div className=\"imag-form-chapter\"></div>\r\n      <div className=\"frase-form\">\r\n        <div className=\"frase-chapter\">\r\n          <h4>« ¡Atrapá al lector desde la primera página y lográ que tu historia este entre las más populares! »</h4>\r\n        </div>\r\n        <div className=\"container-form-chapter\">\r\n          <div className=\"capitulo\" style={{display:'flex',flexDirection:'column',alignItems:'center',marginTop:'2vh'}}>\r\n            <h3>Agregar el nombre de tu nuevo capítulo</h3>\r\n            <div className=\"line\">\r\n              <input className=\"input-chapter\" type=\"text\" name=\"title\" disabled={continuar && true} id=\"title\" placeholder=\"Capitulo\" value={title} onChange={(e)=>setTitle(e.target.value)} />\r\n            </div>\r\n            {!continuar && <button className=\"buttonNewChapter\" onClick={sendTitle}>Listo!</button>}\r\n          </div>\r\n          {continuar && \r\n          <>\r\n          <div className=\"form-chapter\">\r\n            {chapter.length > 0 && <div className=\"chapterSended\">\r\n              {chapter.map(content=> <textarea disabled style={{resize: 'none', width: '100%'}} >{content.content}</textarea>)}</div>}\r\n          </div>\r\n            <textarea type=\"text\" className=\"textarea-chapter\" name=\"content\" id=\"content\" cols=\"20\" rows=\"5\" placeholder=\"Comenza a escibir tu historia...\" \r\n            onKeyPress={keyPress} style={{ resize: 'none', width: '90%' }} value={content.content} onChange={(e)=>setContent({content:e.target.value})}></textarea>\r\n          <div style={{display:'flex', width:'46vw', justifyContent:'space-between', marginBottom:'10vh'}}>\r\n              <button className=\"buttonNewChapter\" onClick={send}><span>Añadir capitulo al libro!</span></button>\r\n              <Link to={`/finish-book/${id}`} id={id}><button className=\"buttonNewChapter\"><span>Finalizar</span></button></Link>\r\n          </div>\r\n          <p style={{fontSize:'2.2vh'}}> * Cada vez que aprietes la tecla \"Enter\" se crea un nuevo párrafo.</p>\r\n          <p style={{fontSize:'2.2vh'}}>* Añades el capitulo a tu libro y sigues escribiendo!</p>\r\n          <p style={{marginBottom:'3vh', fontSize:'2.2vh'}}> * Al hacer click en \"Finalizar\" tu libro se da por terminado y puedes agregarle foto de portada!</p></>}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loggedUser: state.auth.loggedUser,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  addChapter: bookActions.addChapter,\r\n  sendContent: bookActions.sendContent,\r\n  getBooks: bookActions.getBooks,\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NewChapter)","import { connect } from \"react-redux\"\r\nimport { useEffect, useState } from \"react\"\r\nimport bookActions from \"../redux/actions/bookActions\"\r\nimport Swal from'sweetalert2';\r\n\r\n\r\nconst NewBook =(props)=>{\r\n  const [book, setBook] = useState({})\r\n\r\n  const readInput =(e)=> {\r\n    var value = e.target.value\r\n    const prop = e.target.name\r\n    if (prop ==='image') value = e.target.files[0]\r\n    setBook({\r\n      ...book,\r\n      [prop]:value,\r\n    })\r\n  }\r\n\r\n  useEffect(()=>{\r\n    if(props.newBook._id) props.history.push(`/new-book/${props.newBook._id}`)\r\n  },[props.newBook._id])\r\n\r\n\r\n  const send= async (e) => {\r\n    e.preventDefault();\r\n\r\n    if(!book.genre || book.genre === ''|| book.title ===''|| book.description ===''|| book.user ==='' || book.image ===''){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Verifique que todos los campos esten llenos.',\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n        })\r\n    } else {\r\n      const formData = new FormData()\r\n      formData.append('genre', book.genre.trim())\r\n      formData.append('title', book.title.trim())\r\n      formData.append('description', book.description.trim())\r\n      const respuesta = await props.addBook(formData, props.loggedUser.token)\r\n\r\n      if(respuesta && !respuesta.success){\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: '¡CUIDADO!',\r\n          text: respuesta.mensaje,\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n        });\r\n      } else {\r\n        Swal.fire({\r\n          icon: 'success',\r\n          title: 'Listo',\r\n          text: '¡Nuevo libro creado!',\r\n          showConfirmButton: false,\r\n          timer: 4000\r\n        })\r\n      }\r\n    }\r\n\r\n\r\n  }\r\n return (\r\n    <section className=\"section-form-book\">\r\n    <div className=\"imag-form-book\"></div>\r\n    <div className=\"frase-form\">\r\n      <div className=\"frase\">\r\n        <h4>« Escribir es la manera más profunda de leer la vida »</h4>\r\n        <h3>- Francisco Umbral. -</h3>\r\n      </div>\r\n      <div className=\"container-form-book\">\r\n        <form className=\"form-book\">\r\n          <h5 className=\"newBook\">Nuevo Libro</h5>\r\n          <input className=\"input-formBook\" type=\"text\" name=\"title\" id=\"title\" placeholder=\"Titulo\" onChange={readInput} />\r\n          <textarea className=\"textarea-formBook\" name=\"description\" id=\"description\" cols=\"30\" rows=\"10\" placeholder=\"Descripcion\" onChange={readInput}></textarea>\r\n          <select className=\"input-formBook\" name=\"genre\" id=\"genre\" defaultValue={'Elige un Género'} onChange={readInput}>\r\n            <option value=\"\" >Elige un Género</option>\r\n            <option value=\"Acción\">Acción</option>\r\n            <option value=\"Aventura\">Aventura</option>\r\n            <option value=\"Ciencia Ficción\">Ciencia Ficción</option>\r\n            <option value=\"Clásicos\">Clásicos</option>\r\n            <option value=\"Historias Cortas\">Historias Cortas</option>\r\n            <option value=\"Históricas\">Históricas</option>\r\n            <option value=\"Humor\">Humor</option>\r\n            <option value=\"Romance\">Romance</option>\r\n            <option value=\"Suspenso\">Suspenso</option>\r\n            <option value=\"Terror\">Terror</option>\r\n          </select>\r\n          {/* <input type=\"file\" name=\"image\" id=\"image\" onChange={readInput}/> */}\r\n          <button onClick={send} className=\"buttonDiscover\"><span>Escribir capítulo </span></button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </section>\r\n  )\r\n}\r\n\r\nconst mapStateToProps =state=> {\r\n  return {\r\n    newBook: state.bookR.newBook,\r\n    loggedUser: state.auth.loggedUser\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  addBook: bookActions.addBook\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NewBook)","import { useEffect, useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport authActions from '../redux/actions/authActions'\r\nimport Swal from'sweetalert2';\r\n\r\n\r\nconst Settings = (props) => {\r\n  const [change, setChange] = useState(false)\r\n  const [email, setEmail] = useState('')\r\n  const [firstname, setFirstname] = useState('')\r\n  const [lastname, setLastname] = useState('')\r\n  const [birthday, setBirthday] = useState('')\r\n  const [user, setUser] = useState({firstname:'', lastname:'', email:'', birthday:''})\r\n  const [fileUrl, setFileUrl] = useState('')\r\n  const [pathImage, setPathImage] = useState('')\r\n\r\n  useEffect(()=>{\r\n    if(!props.loggedUser){\r\n      props.history.push('/search')\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: '¡Ups!',\r\n        text: 'Algo salio mal, te pedimos disculpas',\r\n        showConfirmButton: false,\r\n        timer: 4000\r\n        })\r\n    }\r\n  },[])\r\n\r\n  const readInput = (e) => {\r\n    var value = e.target.value\r\n    const prop = e.target.name\r\n    if (prop ==='image') value = e.target.files[0]\r\n    setUser({\r\n      ...user,\r\n      [prop]:value,\r\n    })\r\n  }\r\n  console.log(user)\r\n\r\n  const edit = (e) => {\r\n    e.preventDefault()\r\n    setChange(!change)\r\n  }\r\n\r\n\r\n  const onFileChange= e =>{\r\n    if(e.target.files && e.target.files.length > 0){\r\n        const file = e.target.files[0]\r\n        if(file.type.includes('image')){\r\n            const reader = new FileReader()\r\n            reader.readAsDataURL(file)\r\n            reader.onload= function load(){\r\n                setPathImage(reader.result)\r\n            }\r\n            setFileUrl(file)\r\n        }else{\r\n            console.log('tuvimos un error')\r\n        }\r\n        console.log(file)\r\n        console.log(fileUrl)\r\n    }\r\n  }\r\n  const alertError = (error) =>{\r\n    Swal.fire({\r\n        icon: 'error',\r\n        title: '¡CUIDADO!',\r\n        text: error,\r\n        showConfirmButton: false,\r\n        timer: 4000\r\n        })\r\n  }\r\n\r\n  const send = e => {\r\n    e.preventDefault()\r\n    const formData = new FormData()\r\n    console.log(fileUrl)\r\n    formData.append('email', user.email.trim())\r\n    formData.append('firstname', user.firstname.trim())\r\n    formData.append('lastname', user.lastname.trim())\r\n    formData.append('birthday', user.birthday)\r\n    formData.append('image', fileUrl)\r\n    formData.append('id', props.loggedUser.id)\r\n    console.log(fileUrl)\r\n    var filesExtension = ['.jpg', '.png', '.jpeg']\r\n\r\n    if(user.email==='' || user.firstname=== '' || user.lastname === ''){\r\n      const text = 'Verifique que todos los campos esten llenos'\r\n      alertError(text)\r\n    }else if(fileUrl && filesExtension.some(file=>fileUrl.name.includes(file))){\r\n      props.modifyUser(formData)\r\n      Swal.fire({\r\n        icon: 'success',\r\n        title: 'Listo!',\r\n        text: 'Ajustes guardados',\r\n        showConfirmButton: false,\r\n        timer: 4000\r\n      })\r\n    }else {\r\n      const text = 'Extension de archivo no permitida'\r\n      alertError(text)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <section className=\"settings\">\r\n      <div className=\"imagSettings\"></div>\r\n      <div className=\"container-form-settings\">\r\n        <form className=\"form-settings\">\r\n          <div className=\"tituloIcon\">\r\n            <div className=\"iconoAjus\"></div>\r\n              <h4>Ajustes de usuario</h4>\r\n              <button className=\"settingsEdit\" onClick={edit}>\r\n                <i className=\"fas fa-pencil-alt editPencil\" style={{color: 'white'}}></i>\r\n                <p>Comenzar</p>\r\n              </button>\r\n          </div>\r\n          <div className=\"line\">\r\n            <label htmlFor=\"email\">Email</label>\r\n            <input type=\"text\" name=\"email\" id=\"email\" disabled={!change ? true : false} onChange={readInput} />\r\n          </div>\r\n          <div className=\"line\">\r\n            <label htmlFor=\"firstname\">Nombre</label>\r\n            <input type=\"text\" name=\"firstname\" id=\"firstname\" disabled={!change ? true : false}  onChange={readInput} />\r\n          </div>\r\n          <div className=\"line\">\r\n            <label htmlFor=\"lastname\">Apellido</label>\r\n            <input type=\"text\" name=\"lastname\" id=\"lastname\" disabled={!change ? true : false}  onChange={readInput} />\r\n          </div>\r\n          <div className=\"line\">\r\n            <label htmlFor=\"birthday\">Fecha de nacimiento</label>\r\n            <input type=\"date\" name=\"birthday\" id=\"birthday\" disabled={!change ? true : false}  onChange={readInput} />\r\n          </div>\r\n          <div className=\"lineImgUser\">\r\n              <div className=\"selectImagPerfil\" style={{cursor: 'pointer'}}>\r\n                <label htmlFor=\"image\" for=\"image\" style={{cursor: 'pointer'}}>\r\n                  <i style={{cursor: 'pointer'}} for=\"image\" class=\"fas fa-hand-pointer\"></i>\r\n                  <h6 style={{cursor: 'pointer'}} >Click para seleccionar Imagen</h6>\r\n                </label>\r\n              </div>\r\n            <input className=\"imagePort\" type=\"file\" name=\"image\" id=\"image\" onChange={onFileChange}/>\r\n          </div>\r\n          <div className=\"line\">\r\n            <div className=\"buttonSettings\" onClick={send}><span>Confirmar cambios</span></div>\r\n          </div>\r\n        </form>\r\n        <div className=\"userImage\" style={{width: '20vw', height: '50vh', boxShadow: '0px 5px 5px rgba(0,0,0,0.2)', backgroundImage: `url('${pathImage}')`}}>\r\n      </div>\r\n    </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loggedUser: state.auth.loggedUser\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  modifyUser: authActions.modifyUser\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Settings)","import {useEffect} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport { Link } from \"react-router-dom\"\r\nimport {Spinner} from 'reactstrap'\r\n\r\nconst StoryBook = (props)=>{\r\n    var namePage = props.match.params.id\r\n    var filtro = props.books.filter(libro=> libro._id === namePage)\r\n    var indexPage = parseInt(props.match.params.index)\r\n\r\n    useEffect(()=>{\r\n        window.scrollTo(0,0)\r\n    },[])\r\n\r\n    return(\r\n        <>\r\n            {filtro.length === 0 ? \r\n            <div className=\"cajaSpinner\">\r\n            <div className=\"cajitaSpinner\">\r\n              <Spinner  className=\"spinner\"/>\r\n            </div>\r\n          </div>\r\n            :\r\n            <div className=\"containerCap\">\r\n            <div className=\"containerTitleAndUser\">\r\n                <div className=\"titleCap\">\r\n                    <p>{filtro[0].chapters[indexPage].title}</p>\r\n                    <div style={{width:'30vh', display:'flex',justifyContent:'space-between'}}>\r\n                        <h5><i className=\"far fa-eye\"></i> {filtro[0].views} </h5>\r\n                        <h5><i className=\"far fa-star\"></i> {filtro[0].stars.length}</h5>\r\n                        <h5><i className=\"fas fa-list-ul\"></i> {filtro[0].chapters.length}</h5>\r\n                    </div>\r\n                </div>\r\n                <div className=\"containerParrafosAndButton\">\r\n                    <div className=\"containerParrafos\">\r\n                        {filtro[0].chapters[indexPage].chapter.map(parrafo=>{\r\n                            return(\r\n                                <p key={parrafo.content}>{parrafo.content}</p>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                    {indexPage === filtro[0].chapters.length -1 ? <Link to={`/story/${filtro[0]._id}`}><button><span>Volver al libro</span></button></Link> : <Link to={`/book/${filtro[0]._id}/${filtro[0].chapters[indexPage]._id}/${indexPage+1}`}><button><span>Sigue leyendo la parte siguiente</span></button></Link>}\r\n                </div>\r\n            </div>\r\n        </div>}\r\n        </>\r\n    )\r\n    \r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        books: state.bookR.books,\r\n\r\n    }\r\n  }\r\n\r\nexport default connect(mapStateToProps)(StoryBook);","import { useState, useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Button, Input } from 'reactstrap'\r\nimport bookActions from '../redux/actions/bookActions'\r\nimport Swal from'sweetalert2';\r\n\r\nconst Comment = (props) => {\r\n    const [value, setValue] = useState('')\r\n    const [input, setInput] = useState(false)\r\n    const [loggedUser, setLoggedUser] = useState('')\r\n\r\n    useEffect(() => {\r\n        if (props.loggedUser) {\r\n            setLoggedUser(props.loggedUser.id)\r\n        }\r\n    }, [])\r\n    \r\n    const deleteC = async (e) => {\r\n        await props.deleteComments(props.id, props.comment._id, props.loggedUser.token)\r\n    }\r\n    const modiComment = async (e) => {\r\n        if (value !== \"\"){\r\n        await props.modComment(value, props.comment._id, props.id, props.loggedUser.token)\r\n        setInput(!input)}\r\n        else {\r\n            Swal.fire({\r\n                icon: 'error',\r\n                title: '¡Y el comentario!',\r\n                text: 'No hay nada para editar',\r\n              })\r\n            setInput(!input)\r\n        }\r\n    }\r\n\r\nconst keyPress = e => {\r\n    if (e.key === 'Enter') {\r\n        modiComment()\r\n    }\r\n}\r\n    return (\r\n        <div className=\"containerComment\">\r\n            <div className=\"containerComments\">\r\n                <div className=\"userPicAndName\">\r\n                    {props.comment.userPic ?\r\n                    <img src={props.comment.userPic} className=\"rounded-circle\" alt=\"...\"/> :\r\n                    <div className=\"dropDownPic\" >{props.comment.firstName.toUpperCase().substr(0, 1)}</div>}\r\n                    <h6 className=\"index text-center\">{props.comment.firstName}</h6>\r\n                </div>\r\n                    {!input ?\r\n                    <div className=\"contentComment text-center\">\r\n                        <p>{props.comment.content}</p>\r\n                    </div>\r\n                    :\r\n                    <div className=\"botonesEditAndBorrar\">\r\n                        <Input className=\"comment\" id=\"comment\" type=\"text\" placeholder=\"Edit comment\" onChange={(e) => {setValue(e.target.value)}} onKeyPress={keyPress}/>\r\n                        \r\n                        <Button onClick={() => {setInput(!input)}}><i class=\"far fa-times-circle\"></i></Button>\r\n                        <Button onClick={modiComment}><i className=\"fas fa-paper-plane\"></i></Button>\r\n                    </div>}\r\n                {props.loggedUser && loggedUser === props.comment.userId && !input &&\r\n                <div className=\"botonesEditAndBorrar d-flex\">\r\n                    <Button onClick={deleteC}><i className=\"far fa-trash-alt\"></i></Button>\r\n                    <Button onClick={() => {setInput(!input)}}><i className=\"far fa-edit\"></i></Button>\r\n                </div>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n    loggedUser: state.auth.loggedUser\r\n    }\r\n  }\r\n\r\nconst mapDispatchToProps = {\r\n    deleteComments: bookActions.deleteComment,\r\n    modComment: bookActions.modComment\r\n\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Comment)","import React, { useState, useEffect } from 'react'\r\nimport {connect} from 'react-redux'\r\nimport bookActions from \"../redux/actions/bookActions\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { Button, Input, Spinner} from 'reactstrap'\r\nimport Comment from './Comment'\r\nimport Swal from'sweetalert2';\r\n\r\nconst StoryDescription = (props)=>{\r\n    const [reload, setReload] = useState(false)\r\n    const [value, setValue] = useState('')\r\n    const [voted, setVoted] = useState('')\r\n    var namePage = props.match.params.id\r\n    var filtro = props.books.filter(libro => libro._id === namePage)\r\n    useEffect(() => {\r\n        if(props.loggedUser) {\r\n            setVoted(props.loggedUser.id)\r\n        }\r\n        if(props.comments.comments) {\r\n            props.comments.comments.map(comment => console.log(comment))\r\n        }\r\n    }, [props.loggedUser])\r\n    const enviar =  async () => {\r\n        if (value !== \"\"){\r\n        await props.addComment(value, filtro[0]._id, props.loggedUser.token)\r\n        setValue(\"\")}\r\n        else {\r\n            Swal.fire({\r\n                icon: 'error',\r\n                title: '¡Y el comentario!',\r\n                text: 'No hay ningun comentario',\r\n              })\r\n\r\n        }\r\n    }\r\n\r\n    const votes = async () => {\r\n        props.vote(filtro[0]._id, props.loggedUser.token)\r\n        filtro[0].stars.push(props.loggedUser.id)\r\n        setReload(!reload)\r\n    }\r\n    const dismissVote = async () => {\r\n        props.dismissVote(filtro[0]._id, props.loggedUser.token)\r\n        filtro[0].stars.pop(props.loggedUser.id)\r\n        setReload(!reload)\r\n    }\r\n    const keyPress = e => {\r\n        if (e.key === 'Enter') {\r\n        enviar()\r\n        }\r\n    }\r\n    const redirect = () =>{\r\n        Swal.fire({\r\n            icon: 'error',\r\n            title: '¡Lo sentimos!',\r\n            text: 'Esta historia todavia no tiene capitulos',\r\n          })\r\n        props.history.push(`/stories/${filtro[0].genre}`)\r\n    }   \r\n    return(\r\n        <>\r\n        {filtro.length === 0 ? \r\n            <div className=\"cajaSpinner\">\r\n            <div className=\"cajitaSpinner\">\r\n            <Spinner  className=\"spinner\"/>\r\n            </div>\r\n            </div>: \r\n      <> <div className=\"conteinerResp\">\r\n                <div className=\"container-image-info-book\">\r\n                    <div className=\"imag-book-story-description\" style={{backgroundImage:`url('${filtro[0].image}')`}}></div>\r\n                    <div className=\"container-info-book\">\r\n                        <h2>{filtro[0].title}</h2>\r\n                        <h5>{filtro[0].genre}</h5>\r\n                        <div className=\"views-stars-chapters\">\r\n                            <div><h5> <i className=\"far fa-eye\"></i> {filtro[0].views} </h5></div>\r\n                            <div><h5> <i class=\"far fa-star\"></i> {filtro[0].stars.length}</h5></div>\r\n                            <div><h5> <i class=\"fas fa-list-ul\"></i> {filtro[0].chapters.length}</h5></div>\r\n                        </div>\r\n                        <div>\r\n                            <h5>{filtro[0].user.firstname} {filtro[0].user.lastname}</h5>\r\n                        </div>\r\n                        <div className=\"stars\">\r\n                            {filtro[0].chapters.length > 0\r\n                            ? <Link to={`/book/${filtro[0]._id}/${filtro[0].chapters[0]._id}/${0}`}>\r\n                            <button className=\"BotonLeer\">Leer</button></Link> : redirect()}\r\n                            {filtro[0].stars.includes(voted) \r\n                            ?\r\n                            <button className=\"BotonLeer\" onClick={props.loggedUser && dismissVote}>Quitar Voto <i class=\"fas fa-star\"></i></button>\r\n                            : \r\n                            <button className=\"BotonLeer\" onClick={props.loggedUser ? votes : ()=>alert('Necesitas iniciar sesion para poder votar!')}>Depositar voto <i class=\"far fa-star\"></i></button>}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"comment-table-container\">\r\n                <div>\r\n                    <div className=\"table-title-container\">\r\n                        <h2>Tabla de Contenidos</h2>\r\n                    </div>\r\n                    <div className=\"table-containe\">\r\n                        {filtro[0].chapters.map((chapter, index) => {\r\n                            return (\r\n                                <Link to={`/book/${filtro[0]._id}/${chapter._id}/${index}`}><button><p>{chapter.title}</p></button></Link>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                </div>\r\n                <div className=\"coments-container-storyDescription\">\r\n                    <div className=\"comments-storyDescription\">\r\n                        {props.comments.comments ?\r\n                        <div>{props.comments.comments.length > 0 ? props.comments.comments.map(comment => {\r\n                            return <Comment comment={comment} key={comment._id} id={filtro[0]._id}/>\r\n                        }): \r\n                        <h2 className=\"text-center bg-white w-100\">Sin Comentarios</h2>}\r\n                        </div>\r\n                        : filtro[0].comments.length > 0 ?\r\n                        <div>\r\n                            {(filtro[0].comments.map(comment => {\r\n                                return <Comment comment={comment} key={comment._id} id={filtro[0]._id}/>\r\n                            }))}\r\n                        </div> :\r\n                        <h2 className=\"text-center bg-white w-100\">Sin Comentarios</h2>}\r\n                    </div>\r\n                    <div>\r\n                        {props.loggedUser ?\r\n                        <div>\r\n                            <div className=\"inputButtomEnvComment\">\r\n                                <Input className=\"comment\" id=\"comment\" type=\"text\" placeholder=\"Comenta!\" value={value} onChange={(e)=> setValue(e.target.value)} onKeyPress={keyPress}/>\r\n                                <Button onClick={enviar}><i class=\"far fa-paper-plane\"></i></Button>\r\n                            </div>\r\n                        </div> :\r\n                        <div className=\"d-flex justify-content-center\">\r\n                            <Input className=\"comment w-50 text-center\" disabled type=\"text\" placeholder=\"Primero Regístrate!\" />\r\n                        </div>}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            </>}\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loggedUser: state.auth.loggedUser,\r\n        books: state.bookR.books,\r\n        comments: state.bookR.comment\r\n    }\r\n  }\r\n\r\nconst mapDispatchToProps = {\r\n    addComment: bookActions.addComment,\r\n    vote: bookActions.vote,\r\n    dismissVote: bookActions.dismissVote,\r\n    incViews: bookActions.incViews\r\n\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(StoryDescription);","import {connect} from 'react-redux'\r\nimport {Link} from 'react-router-dom'\r\nconst MyBooks = (props)=>{\r\n    console.log(props.libro)\r\n    return (\r\n        <>\r\n        <div className='storyContainerProfile'>\r\n            <div className='containerFirstBlockStory'>\r\n                <div className='storyPicProfile' style={{backgroundImage:`url(${props.libro.image})`}}></div>\r\n                <div className='containerInformationBookProfile'>\r\n                    <p className='storyTitle'>{props.libro.title}</p>\r\n                    <p className='storyUserProfile'>de <span>{props.libro.user.firstname + ' ' + props.libro.user.lastname}</span></p>\r\n                    <p className='storyGenreProfile'>Genero: <span>{props.libro.genre}</span></p>\r\n                    <div className='storyIconsProfile'>\r\n                        <p className='storyViews'><i className=\"far fa-eye\"></i> {props.libro.views}</p>\r\n                        <p className='storyStars'><i className=\"far fa-star\"></i> {props.libro.stars.length}</p>\r\n                        <p className='storyChapters'><i className=\"fas fa-list-ul\"></i> {props.libro.chapters.length}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className='containerSecondBlockStory'>\r\n                <p className='storyDescription'>{props.libro.description.substr(0,130)+\"...\"}</p>\r\n            </div>            \r\n            <div className='containerThirdBlockStory'>\r\n                <div className='storyButtons'>\r\n                    <Link to={`/modify-book/${props.libro._id}`}><button className='btn btn-danger verMasStory'>Editar Libro</button></Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        books: state.bookR.books,\r\n        loggedUser: state.auth.loggedUser\r\n    }\r\n  }\r\nexport default connect(mapStateToProps)(MyBooks);\r\n","import { Link } from 'react-router-dom'\r\nimport Settings from './Settings'\r\nimport { connect } from 'react-redux'\r\nimport {useState} from 'react'\r\nimport MyBooks from './MyBooks'\r\nimport authActions from '../redux/actions/authActions'\r\n\r\nconst UserProfile = (props) => {\r\n    var myBooks = props.books.filter(book => book.user._id === props.loggedUser.id)\r\n    var booksLiked = props.books.filter(book => book.stars.includes(props.loggedUser.id))\r\n    const [visible, setVisible]=useState(true)\r\n\r\n    return(\r\n        <>\r\n            <div className='containerComponentUserProfile'>\r\n                <div className='containerBannerUserData'>\r\n                    <div className='bannerUserData'>\r\n                        <div className='photoEditProfile'>\r\n                            {props.loggedUser.image\r\n                            ?\r\n                            <div className='photoUser'style={{ backgroundImage: `url(${props.loggedUser.image})`}}>\r\n                            </div>:\r\n                            <div className=\"letterUser\">{props.loggedUser.firstname.toUpperCase().substr(0, 1)}\r\n                            </div>\r\n                            }\r\n                            <div className='buttonEditProfile'>\r\n                                <Link to='/settings'><button><i className=\"fas fa-cog\"></i> Editar mis Datos</button></Link>\r\n                            </div>\r\n                        </div>\r\n                        <div className='informationProfileUserBlock'>\r\n                            <div className='containerInformationFixed'>\r\n                            <div className='informationProfileUserFixed'>\r\n                                <div className='iconInformationProfileUserFixed'><i className=\"fas fa-user\"></i></div>\r\n                                <div className='dataInformationProfileUserFixed'><p>{props.loggedUser.firstname} {props.loggedUser.lastname}</p></div>\r\n                            </div>\r\n                            <div className='informationProfileUserFixed'>\r\n                                {props.loggedUser.birthday\r\n                                ?\r\n                                <>\r\n                                    <div className='iconInformationProfileUserFixed'><i className=\"fas fa-birthday-cake\"></i></div>\r\n                                    <div className='dataInformationProfileUserFixed'>\r\n                                        <p>{props.loggedUser.birthday.substr(0, 10)}</p>   \r\n                                    </div>\r\n                                </>\r\n                                :\r\n                                <>\r\n                                    <div className='iconInformationProfileUserFixed'><i className=\"fas fa-envelope\"></i></div>\r\n                                    <div className='dataInformationProfileUserFixed'>\r\n                                        <p>{props.loggedUser.email.substr(0, 10)}</p>   \r\n                                    </div>\r\n                                </>\r\n\r\n                                }\r\n                            </div>\r\n                            <div className='informationProfileUserFixed'>\r\n                                <div className='iconInformationProfileUserFixed'><i className=\"fas fa-bookmark\"></i></div>\r\n                                <div className='dataInformationProfileUserFixed'><p>Libros Guardados</p></div>\r\n                            </div>\r\n                            </div>\r\n                            <div className='buttonLogout'>\r\n                            <Link to='/' onClick={props.logOut}><button>Cerrar mi sesión</button></Link>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className='containerContentOptions'>\r\n                    <h2 className='titleProfile'>Mi Perfil</h2>\r\n                    <div className='containerNavMenu'>\r\n                        <Link ><div onClick={()=>setVisible(true)} className='optionMenu'>Mis Libros</div></Link>\r\n                        <Link ><div onClick={()=>setVisible(false)} className='optionMenu savedBooks'>Mi Biblioteca</div></Link>\r\n                    </div>\r\n                    <div className='containerViewComponentOption'>\r\n                    <div className='booksBoxUserProf'>\r\n                            {visible ? myBooks.length === 0 ? <h1 style={{textAlign:'center'}}>Todavía no tienes libros creados. Comienza a escribir tus historias</h1> : myBooks.map(book => <MyBooks libro={book}/>): \r\n                            booksLiked.length === 0 ? <h1 style={{textAlign:'center'}}>Todavia no te gusto ningun libro!</h1>: booksLiked.map(book=> <MyBooks libro={book}/>)}    \r\n                     </div>   \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    books: state.bookR.books,\r\n    loggedUser: state.auth.loggedUser\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    logOut: authActions.logOutUser\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserProfile)\r\n","import { connect } from \"react-redux\"\r\nimport { useState } from \"react\"\r\nimport bookActions from \"../redux/actions/bookActions\"\r\nimport Swal from'sweetalert2';\r\n\r\n\r\nconst FinishBook=(props)=>{\r\n  const id = props.match.params.id\r\n  console.log(props.match.url)\r\n  const [book, setBook] = useState({})\r\n  const [fileUrl, setFileUrl] = useState(null)\r\n\r\n  const processImage = () => {\r\n    const imagen = document.getElementById('image').files[0]\r\n    const foto = URL.createObjectURL(imagen)\r\n    setFileUrl(foto)\r\n  }\r\n\r\n  const selectImag = (e) => {\r\n    processImage()\r\n    var value = e.target.value\r\n    const prop = e.target.name\r\n    if (prop ==='image') value = e.target.files[0]\r\n    setBook({\r\n      ...book,\r\n      [prop]:value,\r\n    })\r\n  }\r\n\r\n  const send=()=>{\r\n    const formData = new FormData()\r\n    formData.append('image', book.image)\r\n    formData.append('id', id)\r\n    console.log(book.image)\r\n    var filesExtension = ['.jpg', '.png', '.jpeg']\r\n    if(book.image && filesExtension.some(file=>book.image.name.includes(file))){\r\n      props.addImage(formData, props.loggedUser.token)\r\n      Swal.fire({\r\n        icon: 'success',\r\n        title: 'Libro guardado con exito!',\r\n        showConfirmButton: false,\r\n        timer: 4000\r\n      })\r\n    }else{\r\n      Swal.fire({\r\n        icon: 'error',\r\n       title: 'Extension de archivo no permitida.',\r\n        showConfirmButton: false,\r\n        timer: 4000\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <section className=\"conteiner-finishBook\">\r\n      <div className=\"imagFinishBook\"></div>\r\n      <div className=\"form-finishBook\">\r\n        <div className=\"inputAndButtonFinishBook\">\r\n          <div className=\"finishBook\">\r\n            <h3>{props.match.url==='/finish-book/:id' ? 'Elegir foto de portada' : 'Cambiar foto de portada!'}</h3>\r\n            <div className=\"selectImagPort\" style={{cursor: 'pointer'}}>\r\n              <label style={{cursor: 'pointer'}} for=\"image\">\r\n                <i style={{cursor: 'pointer'}} for=\"image\" className=\"fas fa-hand-pointer\"></i>\r\n                <h6 style={{cursor: 'pointer'}}>Click para seleccionar Imagen</h6>\r\n              </label>\r\n            </div>\r\n            <input className=\"imagePort\" type=\"file\" name=\"image\" id=\"image\" onChange={selectImag}/>\r\n            <button onClick={send} className=\"buttonFinshBook\"><span>TERMINAR EL LIBRO</span></button>\r\n          </div>\r\n          <div className=\"portadaImage\" style={{boxShadow: '0px 5px 5px rgba(0,0,0,0.2)', backgroundImage: `url('${fileUrl}')`}}></div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loggedUser: state.auth.loggedUser\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  addImage: bookActions.addImage\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FinishBook)","import React, { useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport bookActions from '../redux/actions/bookActions'\r\nimport {Spinner} from 'reactstrap'\r\nimport Swal from'sweetalert2';\r\n\r\nconst ModifyBook = (props) => {\r\n  var namePage = props.match.params.id\r\n  var filtro = props.books.filter(libro => libro._id === namePage)\r\n\r\n  useEffect(() => {\r\n  }, [])\r\n\r\n  const deleteBook = async () => {\r\n    await props.deleteBook(namePage)\r\n    Swal.fire({\r\n      icon: 'success',\r\n      title: 'Listo!',\r\n      text: \"Tu libro ha sido eliminado\",\r\n      showConfirmButton: false,\r\n      timer: 4000\r\n      })\r\n    props.history.push(\"/userprofile\")\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {filtro.length === 0 ?\r\n        <div className=\"cajaSpinner\">\r\n          <div className=\"cajitaSpinner\">\r\n            <Spinner className=\"spinner\" />\r\n          </div>\r\n        </div>\r\n        :\r\n        <> <div className=\"oneModify\">\r\n          <div className=\"twoModify\"></div>\r\n          <div className=\"threeModify\">\r\n            <div className=\"fourModify\" style={{ backgroundImage: `url('${filtro[0].image}')`, width: '15vw', height: '50vh' }}></div>\r\n            <div className=\"fiveModify\">\r\n              <h2>{filtro[0].title}</h2>\r\n              <h5>{filtro[0].genre}</h5>\r\n              <Link to={`/modify-book/${namePage}/image`}><button className=\"buttonModify\">Modificar Imagen</button></Link>\r\n              <button onClick={deleteBook} className=\"buttonModify\" style={{ backgroundColor: 'red', marginLeft: '1vw' }}>Eliminar Libro</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n          <div className=\"sixModify\">\r\n            <div className=\"sevenModify\">\r\n              <div className=\"eightModify\">\r\n                <h2>Tabla de Contenidos</h2>\r\n              </div>\r\n              <div className=\"nineModify\">\r\n                {filtro[0].chapters.map((chapter, index) => {\r\n                  return (\r\n                    <Link to={`/modify-book/${filtro[0]._id}/${chapter._id}/${index}`}><button ><p>{chapter.title}</p></button></Link>)\r\n                })}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </>}\r\n    </>\r\n  )\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    books: state.bookR.books,\r\n    loggedUser: state.auth.loggedUser\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  deleteBook: bookActions.deleteBook\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModifyBook)","import React, {useState} from 'react'\r\nimport { connect } from 'react-redux'\r\nimport authActions from '../redux/actions/authActions'\r\nimport Swal from 'sweetalert2'\r\n\r\nconst ForgotPassword = ( props ) => {\r\n    const email = props.match.params.email\r\n    const [usuario, setUsuario] = useState({ password:'', newPassword: '' })\r\n    const [errores, setErrores] = useState ([])\r\n    const [visible, setVisible] = useState(false)\r\n\r\n    const readInput = e => { //receive the event\r\n        const valor = e.target.value // capture the value\r\n        const campo = e.target.name // capture the field\r\n\r\n        setUsuario ({ //modify the user I have in the useState\r\n            ...usuario,\r\n            [campo]:valor\r\n        });\r\n    }\r\n\r\n    const checkIfInputsAreEmpty = !usuario.password\r\n    const changePassword = async e => { // function that runs when you click the create user button\r\n        e.preventDefault() //prevent reloading the page\r\n        if(checkIfInputsAreEmpty){\r\n            alert ('Debe ingresar una nueva contraseña')\r\n            return true\r\n        }else if(usuario.password !== usuario.newPassword){\r\n            alert('las contraseñas no coinciden')\r\n        }else{\r\n            const respuesta = await props.newPassword(email, usuario.password)\r\n            console.log(respuesta)\r\n            if(respuesta && !respuesta.success){\r\n                Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Ups!',\r\n                    text: \"Algo salio mal, intenta nuevamente!\",\r\n                    showConfirmButton: false,\r\n                    timer: 4000\r\n                    })\r\n            }else {\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                    title: 'Genial!!',\r\n                    text: \"Tu contraseña se restablecio correctamente!\",\r\n                    showConfirmButton: false,\r\n                    timer: 4000\r\n                    })\r\n            }\r\n        }\r\n    }\r\n\r\nreturn (\r\n    <div className=\"containerRegister\">\r\n        <div className=\"imagRegister\"></div>\r\n            <div className=\"registerInput\" >\r\n                <div className= \"register\">\r\n                    <h2>Recuperar Contraseña</h2>\r\n                    <div className=\"userNameAndPassword\">\r\n                        <div style={{display:'flex',alignItems:'center'}}>\r\n                            <input className=\"inputRegister\" type={visible ? \"text\" : \"password\"} name=\"password\" placeholder=\"Contraseña\" onChange={readInput} />\r\n                            <input className=\"inputRegister\" type={visible ? \"text\" : \"password\"} name=\"newPassword\" placeholder=\"Contraseña\" onChange={readInput} />\r\n                            <i className={visible ? \"far fa-eye-slash\" : \"far fa-eye\"} onClick={()=>setVisible(!visible)}></i>\r\n                        </div>\r\n                    </div>\r\n                    <button className=\"botonRegister\" onClick={changePassword} >Restablecer Contraseña</button>\r\n                </div>\r\n            </div>\r\n        <div style={{height:\"50vh\", width:\"60vw\"}}>\r\n            {/* {errores.map(error => alert(error))} */}\r\n        </div>\r\n    </div>\r\n        )\r\n    }\r\n\r\nconst mapDispatchToProps = { // map the actions\r\n    newPassword: authActions.newPassword //mapDispachToProps object that has an action value\r\n}\r\n\r\nexport default connect(null,mapDispatchToProps) (ForgotPassword)","import React, {useState} from 'react'\r\nimport { connect } from 'react-redux'\r\nimport authActions from '../redux/actions/authActions'\r\nimport Swal from 'sweetalert2'\r\n\r\n\r\nconst SendEmail = ( props ) => {\r\n\r\n    const [email, setEmail] = useState('')\r\n    const [errores, setErrores] = useState ([])\r\n \r\n    const checkIfInputsAreEmpty = email===''\r\n\r\n    const validateUser = async e => { // function that runs when you click the create user button\r\n        e.preventDefault() //prevent reloading the page\r\n        if(checkIfInputsAreEmpty){\r\n            Swal.fire({\r\n                icon: 'error',\r\n                title: '¡CUIDADO!',\r\n                text: \"No tienes permitido ingresar a la web\",\r\n                showConfirmButton: false,\r\n                timer: 4000\r\n                })\r\n            return true\r\n        }\r\n        setErrores([])\r\n\r\n        const respuesta = await props.resetPassword(email)\r\n        if(respuesta && !respuesta.success){\r\n            setErrores(respuesta.errores.details)\r\n        }else{\r\n            Swal.fire({\r\n                icon: 'success',\r\n                title: '¡Listo!',\r\n                text: \"Revisa tu mail por favor!\",\r\n                showConfirmButton: false,\r\n                timer: 4000\r\n                })\r\n        }\r\n    }\r\n\r\n\r\nreturn (\r\n    <div className=\"containerRegister\">\r\n        <div className=\"imagRegister\"></div>\r\n            <div className=\"registerInput\" >\r\n                <div className= \"register\">\r\n                    <h2>Solicitud de restablecimiento de contraseña</h2>\r\n                    <div className=\"userNameAndPassword\">\r\n                        <input className=\"inputRegister\" type=\"text\" name=\"email\" placeholder=\"Email\" onChange={(e)=>setEmail(e.target.value.trim())} />\r\n                    </div>\r\n                    <button className=\"botonRegister\" onClick={validateUser} >Recuperar contraseña!</button>\r\n                </div>\r\n            </div>\r\n        <div style={{height:\"50vh\", width:\"60vw\"}}>\r\n            {/* {errores.map(error => alert(error))} */}\r\n        </div>\r\n    </div>\r\n        )\r\n    }\r\n\r\nconst mapDispatchToProps = { // map the actions\r\n   resetPassword : authActions.resetPassword //mapDispachToProps object that has an action value\r\n}\r\n\r\nexport default connect(null,mapDispatchToProps)(SendEmail)\r\n","import {connect} from 'react-redux'\r\nimport {useState, useEffect} from 'react'\r\nimport bookActions from \"../redux/actions/bookActions\"\r\n\r\nconst Content =(props)=>{\r\n  const [visible, setVisible] = useState(false)\r\n  const [updatedContent, setUpdatedContent] = useState('')\r\n  const {content, _id} = props.content\r\n  const {bookId, chapterId} = props\r\n\r\n  useEffect(()=>{\r\n    setUpdatedContent(content)\r\n  },[])\r\n\r\n  const edit =(e)=> {\r\n    setVisible(!visible)\r\n    setUpdatedContent(content)\r\n  }\r\n  const modifyContent= async () => {\r\n    await props.modifyContent(updatedContent, _id, chapterId, bookId, props.loggedUser.token)\r\n    setVisible(!visible)\r\n  }\r\n  const deleteContent =async()=>{\r\n    await props.deleteContent(_id, chapterId, bookId, props.loggedUser.token)\r\n  }\r\n  const keyPress=(e)=>{\r\n    e.key==='Enter' && modifyContent()\r\n  }\r\n  return (\r\n    <div>\r\n      {visible ?\r\n      <div className=\"form-chapter\">\r\n        <textarea className=\"textarea-chapter\" name=\"updatedContent\" id=\"updatedContent\" value={updatedContent} onChange={(e)=>setUpdatedContent(e.target.value)} style={{resize: 'none', width: '100%'}}></textarea>\r\n        <i onClick={modifyContent} onKeyPress={keyPress} className=\"fas fa-sign-in-alt\"></i>\r\n        <i onClick={()=>setVisible(!visible)} className=\"far fa-window-close\"></i>\r\n      </div>\r\n      :\r\n      <div>\r\n        <textarea name=\"updatedContent\" id=\"updatedContent\" disabled={!visible && true} value={updatedContent} style={{resize: 'none', width: '100%'}}></textarea>\r\n        <i onClick={edit} className=\"far fa-edit\"></i>\r\n        <i onClick={deleteContent} className=\"fas fa-eraser\"></i>\r\n      </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state =>{\r\n  return {\r\n    loggedUser: state.auth.loggedUser\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  modifyContent: bookActions.modifyContent,\r\n  deleteContent: bookActions.deleteContent\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Content)","import { connect } from \"react-redux\"\r\nimport { useState, useEffect } from \"react\"\r\nimport {Link} from \"react-router-dom\"\r\nimport bookActions from \"../redux/actions/bookActions\"\r\nimport Content from './Content'\r\nimport {Spinner} from 'reactstrap'\r\n\r\n\r\nconst ModifyChapter = (props) => {\r\n  const [title, setTitle] = useState('')\r\n  const [continuar, setContinuar] = useState(false)\r\n  const id = props.match.params.id\r\n  const chapterId =props.match.params.chapterId\r\n  const newChapter = props.match.url==='/new-book/:id'\r\n  var filtro = props.books.filter(book=> book._id === id)\r\n  var indexPage = parseInt(props.match.params.index)\r\n\r\n\r\n  useEffect(()=>{\r\n    if(filtro.length>0){\r\n    setTitle(filtro[0].chapters[indexPage].title)}\r\n  },[filtro.length])\r\n\r\n\r\n  const sendTitle=async ()=>{\r\n    setContinuar(!continuar)\r\n    props.modifyChapterTitle(title, id, chapterId, props.loggedUser.token)\r\n  }\r\n  console.log(title)\r\n  return (\r\n    <>\r\n    {filtro.length === 0 ?\r\n        <div className=\"cajaSpinner\">\r\n          <div className=\"cajitaSpinner\">\r\n            <Spinner className=\"spinner\" />\r\n          </div>\r\n        </div>\r\n        :\r\n      <section className=\"chapter\">\r\n      <div className=\"imag-form-chapter\"></div>\r\n      <div className=\"frase-form\">\r\n        <div className=\"frase-chapter\">\r\n          <h4>« ¡Atrapá al lector desde la primera página y lográ que tu historia este entre las más populares! »</h4>\r\n        </div>\r\n        <div className=\"container-form-chapter\">\r\n          <div className='capitulo' style={{display:'flex',flexDirection:'column',alignItems:'center',marginTop:'2vh'}}>\r\n            <h3>{newChapter ? 'Agregar el nombre de tu nuevo capítulo' : 'Modificar título del capítulo'}</h3>\r\n            <div className=\"line\">\r\n              <input className=\"input-chapter\" type=\"text\" name=\"title\" id=\"title\"  placeholder=\"Capitulo\" value={title} onChange={(e)=>setTitle(e.target.value)} />\r\n            </div>\r\n            {!continuar && <button className=\"buttonNewChapter\" onClick={sendTitle}>Listo!</button>}\r\n          </div>\r\n          {continuar && \r\n          <>\r\n          <div className=\"form-chapter\">\r\n          {filtro[0].chapters[indexPage].chapter.map(content=><Content bookId={id} chapterId={chapterId} content={content} />)}\r\n          </div>\r\n          <div style={{display:'flex', width:'46vw', justifyContent:'center', marginBottom:'10vh'}}>\r\n              <Link to={`/modify-book/${id}`} id={id}><button className=\"buttonNewChapter\"><span>Volver</span></button></Link>\r\n          </div>\r\n          <p style={{fontSize:'2.2vh'}}> * Cada vez que aprietes la tecla \"Enter\" se crea un nuevo párrafo.</p>\r\n          <p style={{fontSize:'2.2vh'}}>* Añades el capitulo a tu libro y sigues escribiendo!</p>\r\n          <p style={{marginBottom:'3vh', fontSize:'2.2vh'}}> * Al hacer click en \"Finalizar\" tu libro se da por terminado y puedes agregarle foto de portada!</p></>}\r\n        </div>\r\n      </div>\r\n    </section>}\r\n    </>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loggedUser: state.auth.loggedUser,\r\n    books: state.bookR.books\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  modifyChapterTitle: bookActions.modifyChapterTitle,\r\n  sendContent: bookActions.sendContent,\r\n  getBooks: bookActions.getBooks,\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModifyChapter)","import React, { useState } from 'react'\r\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport './styles/styles.css'\r\nimport Search from './components/Search'\r\nimport Header from \"./components/Header\"\r\nimport Home from \"./components/Home\"\r\nimport Footer from \"./components/Footer\"\r\nimport Register from \"./components/Register\"\r\nimport SignIn from \"./components/SignIn\"\r\nimport Stories from './components/Stories'\r\nimport NewChapter from './components/NewChapter'\r\nimport NewBook from './components/NewBook'\r\nimport Settings from './components/Settings'\r\nimport StoryBook from './components/StoryBook'\r\nimport StoryDescription from './components/StoryDescription'\r\nimport authActions from './redux/actions/authActions'\r\nimport UserProfile from './components/UserProfile'\r\nimport FinishBook from './components/FinishBook'\r\nimport ModifyBook from './components/ModifyBook'\r\nimport ForgotPassword from './components/ForgotPassword'\r\nimport SendEmail from './components/SendEmail'\r\nimport MyBooks from './components/MyBooks'\r\nimport ModifyChapter from './components/ModifyChapter'\r\n\r\nconst App = (props) => {\r\n  const [reload, setReload] = useState(false)\r\n\r\n  if (props.loggedUser) {\r\n    var routes =\r\n      <>\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Home} />\r\n          <Route exact path=\"/search\" component={Search} />\r\n          <Route path=\"/add-book\" component={NewBook} />\r\n          <Route path=\"/stories/:genre\" component={Stories} />\r\n          <Route path=\"/story/:id\" component={StoryDescription} />\r\n          <Route path=\"/settings\" component={Settings} />\r\n          <Route path=\"/book/:id/:chapter/:index\" component={StoryBook}/>\r\n          <Route path=\"/new-book/:id\" component={NewChapter}/>\r\n          <Route path='/userprofile' component={UserProfile}/>\r\n          <Route path='/finish-book/:id' component={FinishBook}/>\r\n          <Route path='/modify-book/:id/image' component={FinishBook}/>\r\n          <Route path='/modify-book/:id/:chapterId/:index' component={ModifyChapter}/>\r\n          <Route path='/modify-book/:id' component={ModifyBook}/>\r\n          <Route path='/reset-password/:email' component={ForgotPassword}/>\r\n          <Route path='/myBooks' component={MyBooks}/>\r\n          <Redirect to=\"/search\" />\r\n        </Switch>\r\n      </>\r\n  } else if (localStorage.getItem('token')) {\r\n    props.logFromLS(localStorage.getItem('token'))\r\n    .then(response=> {\r\n      response && setReload(!reload)\r\n    })\r\n  }else{\r\n    routes = \r\n    <>\r\n    <Switch>\r\n      <Route exact path=\"/\" component={Home} />\r\n      <Route exact path=\"/search\" component={Search}/>\r\n      <Route path=\"/register\" component={Register}/>\r\n      <Route path=\"/signin\" component={SignIn}/>\r\n      <Route path=\"/stories/:genre\" component={Stories}/>\r\n      <Route path=\"/story/:id\" component={StoryDescription}/>\r\n      <Route path=\"/book/:id/:chapter/:index\" component={StoryBook}/>\r\n      <Route path='/send-email' component={SendEmail}/>\r\n      <Route path='/reset-password/:email' component={ForgotPassword}/>\r\n      <Redirect to=\"/\"/>\r\n    </Switch>\r\n    </>\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <BrowserRouter>\r\n        <Header />\r\n        {routes}\r\n        <Footer />\r\n      </BrowserRouter>\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    loggedUser: state.auth.loggedUser\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  logFromLS: authActions.logFromLS\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\r\n","\r\nconst initialState = {\r\n  books: [],\r\n  newBook: [],\r\n  filter: [],\r\n  comment: [],\r\n  booksByGenre: [],\r\n  vote: {}\r\n}\r\n\r\nconst bookReducers = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'ADD_BOOK':\r\n      return {\r\n        ...state,\r\n        newBook: action.payload\r\n      }\r\n    case 'CHAPTER_CONTENT':\r\n      return {\r\n        ...state,\r\n        newBook:action.payload\r\n      }\r\n    case 'GET_NEW_BOOK':\r\n      return{\r\n        ...state,\r\n        newBook: action.payload\r\n      }\r\n    case 'GET_BOOKS':\r\n      return {\r\n        ...state,\r\n        books: action.payload,\r\n        filter: action.payload,\r\n        comment: state.books.map(book => book._id === action.payload._id ? action.payload : book)\r\n      }\r\n    case 'GET_BY_GENRE':\r\n      return{\r\n        ...state,\r\n        booksByGenre: action.payload\r\n      }  \r\n    case 'SEARCH_BOOKS':\r\n    \treturn {\r\n        \t...state,\r\n        \tfilter: state.books.filter(book => book.title.toUpperCase().includes(action.payload.toUpperCase().trim())\r\n          || book.genre.toUpperCase().includes(action.payload.toUpperCase().trim())  \r\n        \t|| book.user.firstname.toUpperCase().includes(action.payload.toUpperCase().trim()) \r\n        \t|| book.user.lastname.toUpperCase().includes(action.payload.toUpperCase().trim()))\r\n      }\r\n      case 'ADD_COMMENTS':\r\n          return{\r\n              ...state,\r\n              comment: action.payload\r\n          }\r\n      case 'DELETE_COMMENT':\r\n          return {\r\n              ...state,\r\n              comment: action.payload\r\n          }\r\n      default:\r\n      return state\r\n\t}\r\n}\r\n\r\nexport default bookReducers","const initialState = {\r\n    loggedUser: null\r\n}\r\n\r\nconst authReducers = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'LOG_USER': //para cuando el usuario va a crear una cuenta o a loguearse\r\n        localStorage.setItem('token', action.payload.response.token)\r\n            return {\r\n                ...state,\r\n                loggedUser:action.payload.response\r\n            }\r\n        case 'LOG_OUT_USER' :\r\n            localStorage.clear()\r\n            return {\r\n                ...state,\r\n                loggedUser: null\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default authReducers","//Inicialize the state\r\nconst initialState = {\r\n    genres: []\r\n}\r\n\r\nconst cardReducer =  (state = initialState, action) => {\r\n    switch(action.type){\r\n        case 'GET_CARDS_GENRES':{\r\n            return{\r\n                genres: action.payload\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default cardReducer","import { combineReducers } from \"redux\"\r\nimport bookReducers from './bookReducers'\r\nimport authReducers from './authReducer'\r\nimport cardReducer from './cardReducer'\r\n\r\nconst rootReducer = combineReducers({\r\n  bookR: bookReducers,\r\n  auth: authReducers,\r\n  cardR: cardReducer\r\n})\r\n\r\nexport default rootReducer","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport {applyMiddleware, createStore} from 'redux'\r\nimport {Provider} from 'react-redux'\r\nimport rootReducer from './redux/reducers/rootReducer'\r\nimport thunk from 'redux-thunk'\r\n\r\n\r\n\r\n\r\nconst store = createStore (rootReducer, applyMiddleware(thunk))\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App/>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n)\r\n\r\n\r\n"],"sourceRoot":""}